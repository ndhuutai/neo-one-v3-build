{"version":3,"sources":["webpack:////Users/tainguyen/neo-one/common/temp/node_modules/redux-persist/es/integration/react.js","webpack:////Users/tainguyen/neo-one/common/temp/node_modules/localforage/dist/localforage.js","webpack:////Users/tainguyen/neo-one/common/temp/node_modules/redux-persist/es/stateReconciler/autoMergeLevel1.js","webpack:////Users/tainguyen/neo-one/common/temp/node_modules/redux-persist/es/getStoredState.js","webpack:////Users/tainguyen/neo-one/common/temp/node_modules/redux-persist/es/persistReducer.js","webpack:////Users/tainguyen/neo-one/common/temp/node_modules/redux-persist/es/persistStore.js","webpack:////Users/tainguyen/neo-one/common/temp/node_modules/react-transition-group/esm/config.js","webpack:////Users/tainguyen/neo-one/common/temp/node_modules/react-transition-group/esm/TransitionGroupContext.js","webpack:////Users/tainguyen/neo-one/common/temp/node_modules/react-transition-group/esm/Transition.js","webpack:////Users/tainguyen/neo-one/common/temp/node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack:////Users/tainguyen/neo-one/common/temp/node_modules/redux-persist/es/constants.js","webpack:////Users/tainguyen/neo-one/common/temp/node_modules/redux-persist/es/createPersistoid.js","webpack:////Users/tainguyen/neo-one/common/temp/node_modules/redux-persist/es/purgeStoredState.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_possibleConstructorReturn","self","call","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_setPrototypeOf","p","_defineProperty","value","PersistGate","_PureComponent","_getPrototypeOf2","_this","this","_len","arguments","args","Array","_key","apply","concat","bootstrapped","persistor","getState","onBeforeLift","Promise","resolve","finally","setState","_unsubscribe","subClass","superClass","create","_inherits","protoProps","staticProps","_createClass","subscribe","handlePersistorState","children","state","loading","f","module","exports","e","t","n","r","s","u","Error","code","l","1","_dereq_","global","scheduleDrain","draining","Mutation","MutationObserver","WebKitMutationObserver","called","observer","nextTick","element","document","createTextNode","observe","characterData","data","setImmediate","MessageChannel","createElement","scriptEl","onreadystatechange","parentNode","removeChild","documentElement","appendChild","setTimeout","channel","port1","onmessage","port2","postMessage","queue","oldQueue","len","task","push","window","2","immediate","INTERNAL","handlers","REJECTED","FULFILLED","PENDING","resolver","outcome","safelyResolveThenable","QueueItem","promise","onFulfilled","onRejected","callFulfilled","otherCallFulfilled","callRejected","otherCallRejected","unwrap","func","returnValue","reject","getThen","then","thenable","onError","onSuccess","result","tryCatch","status","out","error","reason","all","iterable","toString","values","resolved","allResolver","outValue","race","response","3","4","idb","indexedDB","webkitIndexedDB","mozIndexedDB","OIndexedDB","msIndexedDB","getIDB","createBlob","parts","properties","Blob","name","builder","BlobBuilder","MSBlobBuilder","MozBlobBuilder","WebKitBlobBuilder","append","getBlob","type","Promise$1","executeCallback","callback","executeTwoCallbacks","errorCallback","normalizeKey","console","warn","String","getCallback","supportsBlobs","dbContexts","_checkBlobSupport","txn","transaction","blob","objectStore","put","onabort","preventDefault","stopPropagation","oncomplete","matchedChrome","navigator","userAgent","match","matchedEdge","parseInt","_checkBlobSupportWithoutCaching","_deferReadiness","dbInfo","dbContext","deferredOperation","deferredOperations","dbReady","_advanceReadiness","pop","_rejectReadiness","err","_getConnection","upgradeNeeded","createDbContext","db","close","dbArgs","version","openreq","open","onupgradeneeded","createObjectStore","storeName","oldVersion","ex","newVersion","onerror","onsuccess","_getOriginalConnection","_getUpgradedConnection","_isUpgradeNeeded","defaultVersion","isNewStore","objectStoreNames","contains","isDowngrade","isUpgrade","incVersion","_decodeBlob","encodedBlob","bin","buf","ArrayBuffer","arr","Uint8Array","charCodeAt","_binStringToArrayBuffer","atob","_isEncodedBlob","__local_forage_encoded_blob","_fullyReady","_initReady","_dbInfo","createTransaction","mode","retries","undefined","tx","forages","forage","_tryReconnect","asyncStorage","_driver","_initStorage","options","ready","initPromises","ignoreErrors","j","slice","_defaultConfig","k","_support","isSafari","openDatabase","test","platform","hasFetch","fetch","indexOf","IDBKeyRange","isIndexedDBValid","iterate","req","openCursor","iterationNumber","cursor","getItem","get","setItem","blobSupport","reader","FileReader","onloadend","base64","btoa","readAsBinaryString","_encodeBlob","store","removeItem","clear","count","advanced","advance","keys","dropInstance","currentConfig","config","isCurrentDb","dbPromise","deleteObjectStore","_forage2","deleteDatabase","onblocked","BASE_CHARS","BLOB_TYPE_PREFIX_REGEX","SERIALIZED_MARKER_LENGTH","TYPE_SERIALIZED_MARKER_LENGTH","toString$1","stringToBuffer","serializedString","encoded1","encoded2","encoded3","encoded4","bufferLength","buffer","bytes","bufferToString","base64String","substring","localforageSerializer","serialize","valueType","marker","fileReader","onload","str","SERIALIZED_MARKER","readAsArrayBuffer","JSON","stringify","deserialize","parse","blobType","matcher","Int8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","createDbTable","executeSql","tryExecuteSql","sqlStatement","SYNTAX_ERR","results","rows","_setItem","retriesLeft","originalValue","serializer","sqlError","QUOTA_ERR","getAllStoreNames","storeNames","item","webSQLStorage","dbInfoPromise","description","size","isWebSQLValid","c","operationInfo","dropTable","operations","_getKeyPrefix","defaultConfig","keyPrefix","_isLocalStorageUsable","localStorage","checkIfLocalStorageThrows","localStorageWrapper","isLocalStorageValid","keyPrefixLength","itemKey","sameValue","x","y","isNaN","includes","array","searchElement","isArray","arg","DefinedDrivers","DriverSupport","DefaultDrivers","INDEXEDDB","WEBSQL","LOCALSTORAGE","DefaultDriverOrder","OptionalDriverMethods","LibraryMethods","DefaultConfig","driver","callWhenReady","localForageInstance","libraryMethod","_args","extend","hasOwnProperty","localforage_js","LocalForage","driverTypeKey","driverName","defineDriver","_config","_driverSet","_initDriver","_ready","_wrapLibraryMethodsWithReady","setDriver","replace","driverObject","complianceError","driverMethods","driverMethodName","methodNotImplementedFactory","methodName","_i","optionalDriverMethod","configureMissingMethods","setDriverSupport","support","info","getDriver","getDriverPromise","getSerializer","serializerPromise","drivers","supportedDrivers","_getSupportedDrivers","setDriverToConfig","extendSelfWithDriver","_extend","oldDriverSetDone","currentDriverIndex","driverPromiseLoop","initDriver","supports","libraryMethodsAndProperties","createInstance","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","autoMergeLevel1","inboundState","originalState","reducedState","_ref","debug","newState","source","forEach","getOwnPropertyDescriptors","defineProperties","_objectSpread","transforms","storageKey","storage","defaultDeserialize","serialized","rawState","reduceRight","subState","transformer","serial","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","persistReducer","baseReducer","stateReconciler","getStoredState","timeout","_persistoid","_purge","_paused","conditionalUpdate","_persist","rehydrated","update","action","restState","_sealed","_rehydrate","payload","rehydrate","createPersistoid","register","restoredState","migrate","v","migratedState","migrateErr","purgeStoredState","flush","_newState","_toConsumableArray","arr2","_arrayWithoutHoles","iter","from","_iterableToArray","_nonIterableSpread","initialState","registry","firstIndex","splice","persistStore","cb","boostrappedCb","_pStore","enhancer","dispatch","rehydrateAction","purge","purgeResult","flushResult","pause","persist","manualPersist","createContext","_React$Component","Transition","context","initialStatus","appear","isMounting","enter","appearStatus","in","unmountOnExit","mountOnEnter","nextCallback","_inheritsLoose","getDerivedStateFromProps","prevState","_proto","componentDidMount","updateStatus","componentDidUpdate","prevProps","nextStatus","componentWillUnmount","cancelNextCallback","getTimeouts","exit","mounting","node","findDOMNode","performEnter","performExit","_this2","appearing","timeouts","enterTimeout","safeSetState","onEntered","onEnter","onEntering","onTransitionEnd","_this3","onExit","onExiting","onExited","cancel","nextState","setNextCallback","_this4","active","event","handler","doesNotHaveTimeoutOrListener","addEndListener","render","_this$props","childProps","TransitionGroupContext","Provider","child","Children","only","cloneElement","Component","noop","contextType","propTypes","defaultProps","UNMOUNTED","EXITED","ENTERING","ENTERED","EXITING","KEY_PREFIX","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","DEFAULT_VERSION","blacklist","whitelist","throttle","defaultSerialize","writeFailHandler","lastState","stagedState","keysToProcess","timeIterator","writePromise","processNextKey","clearInterval","shift","endState","reduce","catch","onWriteFail","writeStagedState","passWhitelistBlacklist","setInterval","warnIfRemoveError"],"mappings":"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","file":"templates/vendors~App.5e27536b.js","sourcesContent":["function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { PureComponent } from 'react'; // eslint-disable-line import/no-unresolved\n\nexport var PersistGate =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(PersistGate, _PureComponent);\n\n  function PersistGate() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PersistGate);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PersistGate)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      bootstrapped: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_unsubscribe\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"handlePersistorState\", function () {\n      var persistor = _this.props.persistor;\n\n      var _persistor$getState = persistor.getState(),\n          bootstrapped = _persistor$getState.bootstrapped;\n\n      if (bootstrapped) {\n        if (_this.props.onBeforeLift) {\n          Promise.resolve(_this.props.onBeforeLift()).finally(function () {\n            return _this.setState({\n              bootstrapped: true\n            });\n          });\n        } else {\n          _this.setState({\n            bootstrapped: true\n          });\n        }\n\n        _this._unsubscribe && _this._unsubscribe();\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(PersistGate, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._unsubscribe = this.props.persistor.subscribe(this.handlePersistorState);\n      this.handlePersistorState();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._unsubscribe && this._unsubscribe();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (process.env.NODE_ENV !== 'production') {\n        if (typeof this.props.children === 'function' && this.props.loading) console.error('redux-persist: PersistGate expects either a function child or loading prop, but not both. The loading prop will be ignored.');\n      }\n\n      if (typeof this.props.children === 'function') {\n        return this.props.children(this.state.bootstrapped);\n      }\n\n      return this.state.bootstrapped ? this.props.children : this.props.loading;\n    }\n  }]);\n\n  return PersistGate;\n}(PureComponent);\n\n_defineProperty(PersistGate, \"defaultProps\", {\n  children: null,\n  loading: null\n});","/*!\n    localForage -- Offline Storage, Improved\n    Version 1.7.3\n    https://localforage.github.io/localForage\n    (c) 2013-2017 Mozilla, Apache License 2.0\n*/\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.localforage = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw (f.code=\"MODULE_NOT_FOUND\", f)}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n(function (global){\n'use strict';\nvar Mutation = global.MutationObserver || global.WebKitMutationObserver;\n\nvar scheduleDrain;\n\n{\n  if (Mutation) {\n    var called = 0;\n    var observer = new Mutation(nextTick);\n    var element = global.document.createTextNode('');\n    observer.observe(element, {\n      characterData: true\n    });\n    scheduleDrain = function () {\n      element.data = (called = ++called % 2);\n    };\n  } else if (!global.setImmediate && typeof global.MessageChannel !== 'undefined') {\n    var channel = new global.MessageChannel();\n    channel.port1.onmessage = nextTick;\n    scheduleDrain = function () {\n      channel.port2.postMessage(0);\n    };\n  } else if ('document' in global && 'onreadystatechange' in global.document.createElement('script')) {\n    scheduleDrain = function () {\n\n      // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n      // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n      var scriptEl = global.document.createElement('script');\n      scriptEl.onreadystatechange = function () {\n        nextTick();\n\n        scriptEl.onreadystatechange = null;\n        scriptEl.parentNode.removeChild(scriptEl);\n        scriptEl = null;\n      };\n      global.document.documentElement.appendChild(scriptEl);\n    };\n  } else {\n    scheduleDrain = function () {\n      setTimeout(nextTick, 0);\n    };\n  }\n}\n\nvar draining;\nvar queue = [];\n//named nextTick for less confusing stack traces\nfunction nextTick() {\n  draining = true;\n  var i, oldQueue;\n  var len = queue.length;\n  while (len) {\n    oldQueue = queue;\n    queue = [];\n    i = -1;\n    while (++i < len) {\n      oldQueue[i]();\n    }\n    len = queue.length;\n  }\n  draining = false;\n}\n\nmodule.exports = immediate;\nfunction immediate(task) {\n  if (queue.push(task) === 1 && !draining) {\n    scheduleDrain();\n  }\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],2:[function(_dereq_,module,exports){\n'use strict';\nvar immediate = _dereq_(1);\n\n/* istanbul ignore next */\nfunction INTERNAL() {}\n\nvar handlers = {};\n\nvar REJECTED = ['REJECTED'];\nvar FULFILLED = ['FULFILLED'];\nvar PENDING = ['PENDING'];\n\nmodule.exports = Promise;\n\nfunction Promise(resolver) {\n  if (typeof resolver !== 'function') {\n    throw new TypeError('resolver must be a function');\n  }\n  this.state = PENDING;\n  this.queue = [];\n  this.outcome = void 0;\n  if (resolver !== INTERNAL) {\n    safelyResolveThenable(this, resolver);\n  }\n}\n\nPromise.prototype[\"catch\"] = function (onRejected) {\n  return this.then(null, onRejected);\n};\nPromise.prototype.then = function (onFulfilled, onRejected) {\n  if (typeof onFulfilled !== 'function' && this.state === FULFILLED ||\n    typeof onRejected !== 'function' && this.state === REJECTED) {\n    return this;\n  }\n  var promise = new this.constructor(INTERNAL);\n  if (this.state !== PENDING) {\n    var resolver = this.state === FULFILLED ? onFulfilled : onRejected;\n    unwrap(promise, resolver, this.outcome);\n  } else {\n    this.queue.push(new QueueItem(promise, onFulfilled, onRejected));\n  }\n\n  return promise;\n};\nfunction QueueItem(promise, onFulfilled, onRejected) {\n  this.promise = promise;\n  if (typeof onFulfilled === 'function') {\n    this.onFulfilled = onFulfilled;\n    this.callFulfilled = this.otherCallFulfilled;\n  }\n  if (typeof onRejected === 'function') {\n    this.onRejected = onRejected;\n    this.callRejected = this.otherCallRejected;\n  }\n}\nQueueItem.prototype.callFulfilled = function (value) {\n  handlers.resolve(this.promise, value);\n};\nQueueItem.prototype.otherCallFulfilled = function (value) {\n  unwrap(this.promise, this.onFulfilled, value);\n};\nQueueItem.prototype.callRejected = function (value) {\n  handlers.reject(this.promise, value);\n};\nQueueItem.prototype.otherCallRejected = function (value) {\n  unwrap(this.promise, this.onRejected, value);\n};\n\nfunction unwrap(promise, func, value) {\n  immediate(function () {\n    var returnValue;\n    try {\n      returnValue = func(value);\n    } catch (e) {\n      return handlers.reject(promise, e);\n    }\n    if (returnValue === promise) {\n      handlers.reject(promise, new TypeError('Cannot resolve promise with itself'));\n    } else {\n      handlers.resolve(promise, returnValue);\n    }\n  });\n}\n\nhandlers.resolve = function (self, value) {\n  var result = tryCatch(getThen, value);\n  if (result.status === 'error') {\n    return handlers.reject(self, result.value);\n  }\n  var thenable = result.value;\n\n  if (thenable) {\n    safelyResolveThenable(self, thenable);\n  } else {\n    self.state = FULFILLED;\n    self.outcome = value;\n    var i = -1;\n    var len = self.queue.length;\n    while (++i < len) {\n      self.queue[i].callFulfilled(value);\n    }\n  }\n  return self;\n};\nhandlers.reject = function (self, error) {\n  self.state = REJECTED;\n  self.outcome = error;\n  var i = -1;\n  var len = self.queue.length;\n  while (++i < len) {\n    self.queue[i].callRejected(error);\n  }\n  return self;\n};\n\nfunction getThen(obj) {\n  // Make sure we only access the accessor once as required by the spec\n  var then = obj && obj.then;\n  if (obj && (typeof obj === 'object' || typeof obj === 'function') && typeof then === 'function') {\n    return function appyThen() {\n      then.apply(obj, arguments);\n    };\n  }\n}\n\nfunction safelyResolveThenable(self, thenable) {\n  // Either fulfill, reject or reject with error\n  var called = false;\n  function onError(value) {\n    if (called) {\n      return;\n    }\n    called = true;\n    handlers.reject(self, value);\n  }\n\n  function onSuccess(value) {\n    if (called) {\n      return;\n    }\n    called = true;\n    handlers.resolve(self, value);\n  }\n\n  function tryToUnwrap() {\n    thenable(onSuccess, onError);\n  }\n\n  var result = tryCatch(tryToUnwrap);\n  if (result.status === 'error') {\n    onError(result.value);\n  }\n}\n\nfunction tryCatch(func, value) {\n  var out = {};\n  try {\n    out.value = func(value);\n    out.status = 'success';\n  } catch (e) {\n    out.status = 'error';\n    out.value = e;\n  }\n  return out;\n}\n\nPromise.resolve = resolve;\nfunction resolve(value) {\n  if (value instanceof this) {\n    return value;\n  }\n  return handlers.resolve(new this(INTERNAL), value);\n}\n\nPromise.reject = reject;\nfunction reject(reason) {\n  var promise = new this(INTERNAL);\n  return handlers.reject(promise, reason);\n}\n\nPromise.all = all;\nfunction all(iterable) {\n  var self = this;\n  if (Object.prototype.toString.call(iterable) !== '[object Array]') {\n    return this.reject(new TypeError('must be an array'));\n  }\n\n  var len = iterable.length;\n  var called = false;\n  if (!len) {\n    return this.resolve([]);\n  }\n\n  var values = new Array(len);\n  var resolved = 0;\n  var i = -1;\n  var promise = new this(INTERNAL);\n\n  while (++i < len) {\n    allResolver(iterable[i], i);\n  }\n  return promise;\n  function allResolver(value, i) {\n    self.resolve(value).then(resolveFromAll, function (error) {\n      if (!called) {\n        called = true;\n        handlers.reject(promise, error);\n      }\n    });\n    function resolveFromAll(outValue) {\n      values[i] = outValue;\n      if (++resolved === len && !called) {\n        called = true;\n        handlers.resolve(promise, values);\n      }\n    }\n  }\n}\n\nPromise.race = race;\nfunction race(iterable) {\n  var self = this;\n  if (Object.prototype.toString.call(iterable) !== '[object Array]') {\n    return this.reject(new TypeError('must be an array'));\n  }\n\n  var len = iterable.length;\n  var called = false;\n  if (!len) {\n    return this.resolve([]);\n  }\n\n  var i = -1;\n  var promise = new this(INTERNAL);\n\n  while (++i < len) {\n    resolver(iterable[i]);\n  }\n  return promise;\n  function resolver(value) {\n    self.resolve(value).then(function (response) {\n      if (!called) {\n        called = true;\n        handlers.resolve(promise, response);\n      }\n    }, function (error) {\n      if (!called) {\n        called = true;\n        handlers.reject(promise, error);\n      }\n    });\n  }\n}\n\n},{\"1\":1}],3:[function(_dereq_,module,exports){\n(function (global){\n'use strict';\nif (typeof global.Promise !== 'function') {\n  global.Promise = _dereq_(2);\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"2\":2}],4:[function(_dereq_,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction getIDB() {\n    /* global indexedDB,webkitIndexedDB,mozIndexedDB,OIndexedDB,msIndexedDB */\n    try {\n        if (typeof indexedDB !== 'undefined') {\n            return indexedDB;\n        }\n        if (typeof webkitIndexedDB !== 'undefined') {\n            return webkitIndexedDB;\n        }\n        if (typeof mozIndexedDB !== 'undefined') {\n            return mozIndexedDB;\n        }\n        if (typeof OIndexedDB !== 'undefined') {\n            return OIndexedDB;\n        }\n        if (typeof msIndexedDB !== 'undefined') {\n            return msIndexedDB;\n        }\n    } catch (e) {\n        return;\n    }\n}\n\nvar idb = getIDB();\n\nfunction isIndexedDBValid() {\n    try {\n        // Initialize IndexedDB; fall back to vendor-prefixed versions\n        // if needed.\n        if (!idb) {\n            return false;\n        }\n        // We mimic PouchDB here;\n        //\n        // We test for openDatabase because IE Mobile identifies itself\n        // as Safari. Oh the lulz...\n        var isSafari = typeof openDatabase !== 'undefined' && /(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent) && !/BlackBerry/.test(navigator.platform);\n\n        var hasFetch = typeof fetch === 'function' && fetch.toString().indexOf('[native code') !== -1;\n\n        // Safari <10.1 does not meet our requirements for IDB support (#5572)\n        // since Safari 10.1 shipped with fetch, we can use that to detect it\n        return (!isSafari || hasFetch) && typeof indexedDB !== 'undefined' &&\n        // some outdated implementations of IDB that appear on Samsung\n        // and HTC Android devices <4.4 are missing IDBKeyRange\n        // See: https://github.com/mozilla/localForage/issues/128\n        // See: https://github.com/mozilla/localForage/issues/272\n        typeof IDBKeyRange !== 'undefined';\n    } catch (e) {\n        return false;\n    }\n}\n\n// Abstracts constructing a Blob object, so it also works in older\n// browsers that don't support the native Blob constructor. (i.e.\n// old QtWebKit versions, at least).\n// Abstracts constructing a Blob object, so it also works in older\n// browsers that don't support the native Blob constructor. (i.e.\n// old QtWebKit versions, at least).\nfunction createBlob(parts, properties) {\n    /* global BlobBuilder,MSBlobBuilder,MozBlobBuilder,WebKitBlobBuilder */\n    parts = parts || [];\n    properties = properties || {};\n    try {\n        return new Blob(parts, properties);\n    } catch (e) {\n        if (e.name !== 'TypeError') {\n            throw e;\n        }\n        var Builder = typeof BlobBuilder !== 'undefined' ? BlobBuilder : typeof MSBlobBuilder !== 'undefined' ? MSBlobBuilder : typeof MozBlobBuilder !== 'undefined' ? MozBlobBuilder : WebKitBlobBuilder;\n        var builder = new Builder();\n        for (var i = 0; i < parts.length; i += 1) {\n            builder.append(parts[i]);\n        }\n        return builder.getBlob(properties.type);\n    }\n}\n\n// This is CommonJS because lie is an external dependency, so Rollup\n// can just ignore it.\nif (typeof Promise === 'undefined') {\n    // In the \"nopromises\" build this will just throw if you don't have\n    // a global promise object, but it would throw anyway later.\n    _dereq_(3);\n}\nvar Promise$1 = Promise;\n\nfunction executeCallback(promise, callback) {\n    if (callback) {\n        promise.then(function (result) {\n            callback(null, result);\n        }, function (error) {\n            callback(error);\n        });\n    }\n}\n\nfunction executeTwoCallbacks(promise, callback, errorCallback) {\n    if (typeof callback === 'function') {\n        promise.then(callback);\n    }\n\n    if (typeof errorCallback === 'function') {\n        promise[\"catch\"](errorCallback);\n    }\n}\n\nfunction normalizeKey(key) {\n    // Cast the key to a string, as that's all we can set as a key.\n    if (typeof key !== 'string') {\n        console.warn(key + ' used as a key, but it is not a string.');\n        key = String(key);\n    }\n\n    return key;\n}\n\nfunction getCallback() {\n    if (arguments.length && typeof arguments[arguments.length - 1] === 'function') {\n        return arguments[arguments.length - 1];\n    }\n}\n\n// Some code originally from async_storage.js in\n// [Gaia](https://github.com/mozilla-b2g/gaia).\n\nvar DETECT_BLOB_SUPPORT_STORE = 'local-forage-detect-blob-support';\nvar supportsBlobs = void 0;\nvar dbContexts = {};\nvar toString = Object.prototype.toString;\n\n// Transaction Modes\nvar READ_ONLY = 'readonly';\nvar READ_WRITE = 'readwrite';\n\n// Transform a binary string to an array buffer, because otherwise\n// weird stuff happens when you try to work with the binary string directly.\n// It is known.\n// From http://stackoverflow.com/questions/14967647/ (continues on next line)\n// encode-decode-image-with-base64-breaks-image (2013-04-21)\nfunction _binStringToArrayBuffer(bin) {\n    var length = bin.length;\n    var buf = new ArrayBuffer(length);\n    var arr = new Uint8Array(buf);\n    for (var i = 0; i < length; i++) {\n        arr[i] = bin.charCodeAt(i);\n    }\n    return buf;\n}\n\n//\n// Blobs are not supported in all versions of IndexedDB, notably\n// Chrome <37 and Android <5. In those versions, storing a blob will throw.\n//\n// Various other blob bugs exist in Chrome v37-42 (inclusive).\n// Detecting them is expensive and confusing to users, and Chrome 37-42\n// is at very low usage worldwide, so we do a hacky userAgent check instead.\n//\n// content-type bug: https://code.google.com/p/chromium/issues/detail?id=408120\n// 404 bug: https://code.google.com/p/chromium/issues/detail?id=447916\n// FileReader bug: https://code.google.com/p/chromium/issues/detail?id=447836\n//\n// Code borrowed from PouchDB. See:\n// https://github.com/pouchdb/pouchdb/blob/master/packages/node_modules/pouchdb-adapter-idb/src/blobSupport.js\n//\nfunction _checkBlobSupportWithoutCaching(idb) {\n    return new Promise$1(function (resolve) {\n        var txn = idb.transaction(DETECT_BLOB_SUPPORT_STORE, READ_WRITE);\n        var blob = createBlob(['']);\n        txn.objectStore(DETECT_BLOB_SUPPORT_STORE).put(blob, 'key');\n\n        txn.onabort = function (e) {\n            // If the transaction aborts now its due to not being able to\n            // write to the database, likely due to the disk being full\n            e.preventDefault();\n            e.stopPropagation();\n            resolve(false);\n        };\n\n        txn.oncomplete = function () {\n            var matchedChrome = navigator.userAgent.match(/Chrome\\/(\\d+)/);\n            var matchedEdge = navigator.userAgent.match(/Edge\\//);\n            // MS Edge pretends to be Chrome 42:\n            // https://msdn.microsoft.com/en-us/library/hh869301%28v=vs.85%29.aspx\n            resolve(matchedEdge || !matchedChrome || parseInt(matchedChrome[1], 10) >= 43);\n        };\n    })[\"catch\"](function () {\n        return false; // error, so assume unsupported\n    });\n}\n\nfunction _checkBlobSupport(idb) {\n    if (typeof supportsBlobs === 'boolean') {\n        return Promise$1.resolve(supportsBlobs);\n    }\n    return _checkBlobSupportWithoutCaching(idb).then(function (value) {\n        supportsBlobs = value;\n        return supportsBlobs;\n    });\n}\n\nfunction _deferReadiness(dbInfo) {\n    var dbContext = dbContexts[dbInfo.name];\n\n    // Create a deferred object representing the current database operation.\n    var deferredOperation = {};\n\n    deferredOperation.promise = new Promise$1(function (resolve, reject) {\n        deferredOperation.resolve = resolve;\n        deferredOperation.reject = reject;\n    });\n\n    // Enqueue the deferred operation.\n    dbContext.deferredOperations.push(deferredOperation);\n\n    // Chain its promise to the database readiness.\n    if (!dbContext.dbReady) {\n        dbContext.dbReady = deferredOperation.promise;\n    } else {\n        dbContext.dbReady = dbContext.dbReady.then(function () {\n            return deferredOperation.promise;\n        });\n    }\n}\n\nfunction _advanceReadiness(dbInfo) {\n    var dbContext = dbContexts[dbInfo.name];\n\n    // Dequeue a deferred operation.\n    var deferredOperation = dbContext.deferredOperations.pop();\n\n    // Resolve its promise (which is part of the database readiness\n    // chain of promises).\n    if (deferredOperation) {\n        deferredOperation.resolve();\n        return deferredOperation.promise;\n    }\n}\n\nfunction _rejectReadiness(dbInfo, err) {\n    var dbContext = dbContexts[dbInfo.name];\n\n    // Dequeue a deferred operation.\n    var deferredOperation = dbContext.deferredOperations.pop();\n\n    // Reject its promise (which is part of the database readiness\n    // chain of promises).\n    if (deferredOperation) {\n        deferredOperation.reject(err);\n        return deferredOperation.promise;\n    }\n}\n\nfunction _getConnection(dbInfo, upgradeNeeded) {\n    return new Promise$1(function (resolve, reject) {\n        dbContexts[dbInfo.name] = dbContexts[dbInfo.name] || createDbContext();\n\n        if (dbInfo.db) {\n            if (upgradeNeeded) {\n                _deferReadiness(dbInfo);\n                dbInfo.db.close();\n            } else {\n                return resolve(dbInfo.db);\n            }\n        }\n\n        var dbArgs = [dbInfo.name];\n\n        if (upgradeNeeded) {\n            dbArgs.push(dbInfo.version);\n        }\n\n        var openreq = idb.open.apply(idb, dbArgs);\n\n        if (upgradeNeeded) {\n            openreq.onupgradeneeded = function (e) {\n                var db = openreq.result;\n                try {\n                    db.createObjectStore(dbInfo.storeName);\n                    if (e.oldVersion <= 1) {\n                        // Added when support for blob shims was added\n                        db.createObjectStore(DETECT_BLOB_SUPPORT_STORE);\n                    }\n                } catch (ex) {\n                    if (ex.name === 'ConstraintError') {\n                        console.warn('The database \"' + dbInfo.name + '\"' + ' has been upgraded from version ' + e.oldVersion + ' to version ' + e.newVersion + ', but the storage \"' + dbInfo.storeName + '\" already exists.');\n                    } else {\n                        throw ex;\n                    }\n                }\n            };\n        }\n\n        openreq.onerror = function (e) {\n            e.preventDefault();\n            reject(openreq.error);\n        };\n\n        openreq.onsuccess = function () {\n            resolve(openreq.result);\n            _advanceReadiness(dbInfo);\n        };\n    });\n}\n\nfunction _getOriginalConnection(dbInfo) {\n    return _getConnection(dbInfo, false);\n}\n\nfunction _getUpgradedConnection(dbInfo) {\n    return _getConnection(dbInfo, true);\n}\n\nfunction _isUpgradeNeeded(dbInfo, defaultVersion) {\n    if (!dbInfo.db) {\n        return true;\n    }\n\n    var isNewStore = !dbInfo.db.objectStoreNames.contains(dbInfo.storeName);\n    var isDowngrade = dbInfo.version < dbInfo.db.version;\n    var isUpgrade = dbInfo.version > dbInfo.db.version;\n\n    if (isDowngrade) {\n        // If the version is not the default one\n        // then warn for impossible downgrade.\n        if (dbInfo.version !== defaultVersion) {\n            console.warn('The database \"' + dbInfo.name + '\"' + \" can't be downgraded from version \" + dbInfo.db.version + ' to version ' + dbInfo.version + '.');\n        }\n        // Align the versions to prevent errors.\n        dbInfo.version = dbInfo.db.version;\n    }\n\n    if (isUpgrade || isNewStore) {\n        // If the store is new then increment the version (if needed).\n        // This will trigger an \"upgradeneeded\" event which is required\n        // for creating a store.\n        if (isNewStore) {\n            var incVersion = dbInfo.db.version + 1;\n            if (incVersion > dbInfo.version) {\n                dbInfo.version = incVersion;\n            }\n        }\n\n        return true;\n    }\n\n    return false;\n}\n\n// encode a blob for indexeddb engines that don't support blobs\nfunction _encodeBlob(blob) {\n    return new Promise$1(function (resolve, reject) {\n        var reader = new FileReader();\n        reader.onerror = reject;\n        reader.onloadend = function (e) {\n            var base64 = btoa(e.target.result || '');\n            resolve({\n                __local_forage_encoded_blob: true,\n                data: base64,\n                type: blob.type\n            });\n        };\n        reader.readAsBinaryString(blob);\n    });\n}\n\n// decode an encoded blob\nfunction _decodeBlob(encodedBlob) {\n    var arrayBuff = _binStringToArrayBuffer(atob(encodedBlob.data));\n    return createBlob([arrayBuff], { type: encodedBlob.type });\n}\n\n// is this one of our fancy encoded blobs?\nfunction _isEncodedBlob(value) {\n    return value && value.__local_forage_encoded_blob;\n}\n\n// Specialize the default `ready()` function by making it dependent\n// on the current database operations. Thus, the driver will be actually\n// ready when it's been initialized (default) *and* there are no pending\n// operations on the database (initiated by some other instances).\nfunction _fullyReady(callback) {\n    var self = this;\n\n    var promise = self._initReady().then(function () {\n        var dbContext = dbContexts[self._dbInfo.name];\n\n        if (dbContext && dbContext.dbReady) {\n            return dbContext.dbReady;\n        }\n    });\n\n    executeTwoCallbacks(promise, callback, callback);\n    return promise;\n}\n\n// Try to establish a new db connection to replace the\n// current one which is broken (i.e. experiencing\n// InvalidStateError while creating a transaction).\nfunction _tryReconnect(dbInfo) {\n    _deferReadiness(dbInfo);\n\n    var dbContext = dbContexts[dbInfo.name];\n    var forages = dbContext.forages;\n\n    for (var i = 0; i < forages.length; i++) {\n        var forage = forages[i];\n        if (forage._dbInfo.db) {\n            forage._dbInfo.db.close();\n            forage._dbInfo.db = null;\n        }\n    }\n    dbInfo.db = null;\n\n    return _getOriginalConnection(dbInfo).then(function (db) {\n        dbInfo.db = db;\n        if (_isUpgradeNeeded(dbInfo)) {\n            // Reopen the database for upgrading.\n            return _getUpgradedConnection(dbInfo);\n        }\n        return db;\n    }).then(function (db) {\n        // store the latest db reference\n        // in case the db was upgraded\n        dbInfo.db = dbContext.db = db;\n        for (var i = 0; i < forages.length; i++) {\n            forages[i]._dbInfo.db = db;\n        }\n    })[\"catch\"](function (err) {\n        _rejectReadiness(dbInfo, err);\n        throw err;\n    });\n}\n\n// FF doesn't like Promises (micro-tasks) and IDDB store operations,\n// so we have to do it with callbacks\nfunction createTransaction(dbInfo, mode, callback, retries) {\n    if (retries === undefined) {\n        retries = 1;\n    }\n\n    try {\n        var tx = dbInfo.db.transaction(dbInfo.storeName, mode);\n        callback(null, tx);\n    } catch (err) {\n        if (retries > 0 && (!dbInfo.db || err.name === 'InvalidStateError' || err.name === 'NotFoundError')) {\n            return Promise$1.resolve().then(function () {\n                if (!dbInfo.db || err.name === 'NotFoundError' && !dbInfo.db.objectStoreNames.contains(dbInfo.storeName) && dbInfo.version <= dbInfo.db.version) {\n                    // increase the db version, to create the new ObjectStore\n                    if (dbInfo.db) {\n                        dbInfo.version = dbInfo.db.version + 1;\n                    }\n                    // Reopen the database for upgrading.\n                    return _getUpgradedConnection(dbInfo);\n                }\n            }).then(function () {\n                return _tryReconnect(dbInfo).then(function () {\n                    createTransaction(dbInfo, mode, callback, retries - 1);\n                });\n            })[\"catch\"](callback);\n        }\n\n        callback(err);\n    }\n}\n\nfunction createDbContext() {\n    return {\n        // Running localForages sharing a database.\n        forages: [],\n        // Shared database.\n        db: null,\n        // Database readiness (promise).\n        dbReady: null,\n        // Deferred operations on the database.\n        deferredOperations: []\n    };\n}\n\n// Open the IndexedDB database (automatically creates one if one didn't\n// previously exist), using any options set in the config.\nfunction _initStorage(options) {\n    var self = this;\n    var dbInfo = {\n        db: null\n    };\n\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] = options[i];\n        }\n    }\n\n    // Get the current context of the database;\n    var dbContext = dbContexts[dbInfo.name];\n\n    // ...or create a new context.\n    if (!dbContext) {\n        dbContext = createDbContext();\n        // Register the new context in the global container.\n        dbContexts[dbInfo.name] = dbContext;\n    }\n\n    // Register itself as a running localForage in the current context.\n    dbContext.forages.push(self);\n\n    // Replace the default `ready()` function with the specialized one.\n    if (!self._initReady) {\n        self._initReady = self.ready;\n        self.ready = _fullyReady;\n    }\n\n    // Create an array of initialization states of the related localForages.\n    var initPromises = [];\n\n    function ignoreErrors() {\n        // Don't handle errors here,\n        // just makes sure related localForages aren't pending.\n        return Promise$1.resolve();\n    }\n\n    for (var j = 0; j < dbContext.forages.length; j++) {\n        var forage = dbContext.forages[j];\n        if (forage !== self) {\n            // Don't wait for itself...\n            initPromises.push(forage._initReady()[\"catch\"](ignoreErrors));\n        }\n    }\n\n    // Take a snapshot of the related localForages.\n    var forages = dbContext.forages.slice(0);\n\n    // Initialize the connection process only when\n    // all the related localForages aren't pending.\n    return Promise$1.all(initPromises).then(function () {\n        dbInfo.db = dbContext.db;\n        // Get the connection or open a new one without upgrade.\n        return _getOriginalConnection(dbInfo);\n    }).then(function (db) {\n        dbInfo.db = db;\n        if (_isUpgradeNeeded(dbInfo, self._defaultConfig.version)) {\n            // Reopen the database for upgrading.\n            return _getUpgradedConnection(dbInfo);\n        }\n        return db;\n    }).then(function (db) {\n        dbInfo.db = dbContext.db = db;\n        self._dbInfo = dbInfo;\n        // Share the final connection amongst related localForages.\n        for (var k = 0; k < forages.length; k++) {\n            var forage = forages[k];\n            if (forage !== self) {\n                // Self is already up-to-date.\n                forage._dbInfo.db = dbInfo.db;\n                forage._dbInfo.version = dbInfo.version;\n            }\n        }\n    });\n}\n\nfunction getItem(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.get(key);\n\n                    req.onsuccess = function () {\n                        var value = req.result;\n                        if (value === undefined) {\n                            value = null;\n                        }\n                        if (_isEncodedBlob(value)) {\n                            value = _decodeBlob(value);\n                        }\n                        resolve(value);\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Iterate over all items stored in database.\nfunction iterate(iterator, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.openCursor();\n                    var iterationNumber = 1;\n\n                    req.onsuccess = function () {\n                        var cursor = req.result;\n\n                        if (cursor) {\n                            var value = cursor.value;\n                            if (_isEncodedBlob(value)) {\n                                value = _decodeBlob(value);\n                            }\n                            var result = iterator(value, cursor.key, iterationNumber++);\n\n                            // when the iterator callback retuns any\n                            // (non-`undefined`) value, then we stop\n                            // the iteration immediately\n                            if (result !== void 0) {\n                                resolve(result);\n                            } else {\n                                cursor[\"continue\"]();\n                            }\n                        } else {\n                            resolve();\n                        }\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n\n    return promise;\n}\n\nfunction setItem(key, value, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        var dbInfo;\n        self.ready().then(function () {\n            dbInfo = self._dbInfo;\n            if (toString.call(value) === '[object Blob]') {\n                return _checkBlobSupport(dbInfo.db).then(function (blobSupport) {\n                    if (blobSupport) {\n                        return value;\n                    }\n                    return _encodeBlob(value);\n                });\n            }\n            return value;\n        }).then(function (value) {\n            createTransaction(self._dbInfo, READ_WRITE, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n\n                    // The reason we don't _save_ null is because IE 10 does\n                    // not support saving the `null` type in IndexedDB. How\n                    // ironic, given the bug below!\n                    // See: https://github.com/mozilla/localForage/issues/161\n                    if (value === null) {\n                        value = undefined;\n                    }\n\n                    var req = store.put(value, key);\n\n                    transaction.oncomplete = function () {\n                        // Cast to undefined so the value passed to\n                        // callback/promise is the same as what one would get out\n                        // of `getItem()` later. This leads to some weirdness\n                        // (setItem('foo', undefined) will return `null`), but\n                        // it's not my fault localStorage is our baseline and that\n                        // it's weird.\n                        if (value === undefined) {\n                            value = null;\n                        }\n\n                        resolve(value);\n                    };\n                    transaction.onabort = transaction.onerror = function () {\n                        var err = req.error ? req.error : req.transaction.error;\n                        reject(err);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction removeItem(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_WRITE, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    // We use a Grunt task to make this safe for IE and some\n                    // versions of Android (including those used by Cordova).\n                    // Normally IE won't like `.delete()` and will insist on\n                    // using `['delete']()`, but we have a build step that\n                    // fixes this for us now.\n                    var req = store[\"delete\"](key);\n                    transaction.oncomplete = function () {\n                        resolve();\n                    };\n\n                    transaction.onerror = function () {\n                        reject(req.error);\n                    };\n\n                    // The request will be also be aborted if we've exceeded our storage\n                    // space.\n                    transaction.onabort = function () {\n                        var err = req.error ? req.error : req.transaction.error;\n                        reject(err);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction clear(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_WRITE, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.clear();\n\n                    transaction.oncomplete = function () {\n                        resolve();\n                    };\n\n                    transaction.onabort = transaction.onerror = function () {\n                        var err = req.error ? req.error : req.transaction.error;\n                        reject(err);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction length(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.count();\n\n                    req.onsuccess = function () {\n                        resolve(req.result);\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction key(n, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        if (n < 0) {\n            resolve(null);\n\n            return;\n        }\n\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var advanced = false;\n                    var req = store.openCursor();\n\n                    req.onsuccess = function () {\n                        var cursor = req.result;\n                        if (!cursor) {\n                            // this means there weren't enough keys\n                            resolve(null);\n\n                            return;\n                        }\n\n                        if (n === 0) {\n                            // We have the first key, return it if that's what they\n                            // wanted.\n                            resolve(cursor.key);\n                        } else {\n                            if (!advanced) {\n                                // Otherwise, ask the cursor to skip ahead n\n                                // records.\n                                advanced = true;\n                                cursor.advance(n);\n                            } else {\n                                // When we get here, we've got the nth key.\n                                resolve(cursor.key);\n                            }\n                        }\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction keys(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.openCursor();\n                    var keys = [];\n\n                    req.onsuccess = function () {\n                        var cursor = req.result;\n\n                        if (!cursor) {\n                            resolve(keys);\n                            return;\n                        }\n\n                        keys.push(cursor.key);\n                        cursor[\"continue\"]();\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction dropInstance(options, callback) {\n    callback = getCallback.apply(this, arguments);\n\n    var currentConfig = this.config();\n    options = typeof options !== 'function' && options || {};\n    if (!options.name) {\n        options.name = options.name || currentConfig.name;\n        options.storeName = options.storeName || currentConfig.storeName;\n    }\n\n    var self = this;\n    var promise;\n    if (!options.name) {\n        promise = Promise$1.reject('Invalid arguments');\n    } else {\n        var isCurrentDb = options.name === currentConfig.name && self._dbInfo.db;\n\n        var dbPromise = isCurrentDb ? Promise$1.resolve(self._dbInfo.db) : _getOriginalConnection(options).then(function (db) {\n            var dbContext = dbContexts[options.name];\n            var forages = dbContext.forages;\n            dbContext.db = db;\n            for (var i = 0; i < forages.length; i++) {\n                forages[i]._dbInfo.db = db;\n            }\n            return db;\n        });\n\n        if (!options.storeName) {\n            promise = dbPromise.then(function (db) {\n                _deferReadiness(options);\n\n                var dbContext = dbContexts[options.name];\n                var forages = dbContext.forages;\n\n                db.close();\n                for (var i = 0; i < forages.length; i++) {\n                    var forage = forages[i];\n                    forage._dbInfo.db = null;\n                }\n\n                var dropDBPromise = new Promise$1(function (resolve, reject) {\n                    var req = idb.deleteDatabase(options.name);\n\n                    req.onerror = req.onblocked = function (err) {\n                        var db = req.result;\n                        if (db) {\n                            db.close();\n                        }\n                        reject(err);\n                    };\n\n                    req.onsuccess = function () {\n                        var db = req.result;\n                        if (db) {\n                            db.close();\n                        }\n                        resolve(db);\n                    };\n                });\n\n                return dropDBPromise.then(function (db) {\n                    dbContext.db = db;\n                    for (var i = 0; i < forages.length; i++) {\n                        var _forage = forages[i];\n                        _advanceReadiness(_forage._dbInfo);\n                    }\n                })[\"catch\"](function (err) {\n                    (_rejectReadiness(options, err) || Promise$1.resolve())[\"catch\"](function () {});\n                    throw err;\n                });\n            });\n        } else {\n            promise = dbPromise.then(function (db) {\n                if (!db.objectStoreNames.contains(options.storeName)) {\n                    return;\n                }\n\n                var newVersion = db.version + 1;\n\n                _deferReadiness(options);\n\n                var dbContext = dbContexts[options.name];\n                var forages = dbContext.forages;\n\n                db.close();\n                for (var i = 0; i < forages.length; i++) {\n                    var forage = forages[i];\n                    forage._dbInfo.db = null;\n                    forage._dbInfo.version = newVersion;\n                }\n\n                var dropObjectPromise = new Promise$1(function (resolve, reject) {\n                    var req = idb.open(options.name, newVersion);\n\n                    req.onerror = function (err) {\n                        var db = req.result;\n                        db.close();\n                        reject(err);\n                    };\n\n                    req.onupgradeneeded = function () {\n                        var db = req.result;\n                        db.deleteObjectStore(options.storeName);\n                    };\n\n                    req.onsuccess = function () {\n                        var db = req.result;\n                        db.close();\n                        resolve(db);\n                    };\n                });\n\n                return dropObjectPromise.then(function (db) {\n                    dbContext.db = db;\n                    for (var j = 0; j < forages.length; j++) {\n                        var _forage2 = forages[j];\n                        _forage2._dbInfo.db = db;\n                        _advanceReadiness(_forage2._dbInfo);\n                    }\n                })[\"catch\"](function (err) {\n                    (_rejectReadiness(options, err) || Promise$1.resolve())[\"catch\"](function () {});\n                    throw err;\n                });\n            });\n        }\n    }\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nvar asyncStorage = {\n    _driver: 'asyncStorage',\n    _initStorage: _initStorage,\n    _support: isIndexedDBValid(),\n    iterate: iterate,\n    getItem: getItem,\n    setItem: setItem,\n    removeItem: removeItem,\n    clear: clear,\n    length: length,\n    key: key,\n    keys: keys,\n    dropInstance: dropInstance\n};\n\nfunction isWebSQLValid() {\n    return typeof openDatabase === 'function';\n}\n\n// Sadly, the best way to save binary data in WebSQL/localStorage is serializing\n// it to Base64, so this is how we store it to prevent very strange errors with less\n// verbose ways of binary <-> string data storage.\nvar BASE_CHARS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\nvar BLOB_TYPE_PREFIX = '~~local_forage_type~';\nvar BLOB_TYPE_PREFIX_REGEX = /^~~local_forage_type~([^~]+)~/;\n\nvar SERIALIZED_MARKER = '__lfsc__:';\nvar SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER.length;\n\n// OMG the serializations!\nvar TYPE_ARRAYBUFFER = 'arbf';\nvar TYPE_BLOB = 'blob';\nvar TYPE_INT8ARRAY = 'si08';\nvar TYPE_UINT8ARRAY = 'ui08';\nvar TYPE_UINT8CLAMPEDARRAY = 'uic8';\nvar TYPE_INT16ARRAY = 'si16';\nvar TYPE_INT32ARRAY = 'si32';\nvar TYPE_UINT16ARRAY = 'ur16';\nvar TYPE_UINT32ARRAY = 'ui32';\nvar TYPE_FLOAT32ARRAY = 'fl32';\nvar TYPE_FLOAT64ARRAY = 'fl64';\nvar TYPE_SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER_LENGTH + TYPE_ARRAYBUFFER.length;\n\nvar toString$1 = Object.prototype.toString;\n\nfunction stringToBuffer(serializedString) {\n    // Fill the string into a ArrayBuffer.\n    var bufferLength = serializedString.length * 0.75;\n    var len = serializedString.length;\n    var i;\n    var p = 0;\n    var encoded1, encoded2, encoded3, encoded4;\n\n    if (serializedString[serializedString.length - 1] === '=') {\n        bufferLength--;\n        if (serializedString[serializedString.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n\n    var buffer = new ArrayBuffer(bufferLength);\n    var bytes = new Uint8Array(buffer);\n\n    for (i = 0; i < len; i += 4) {\n        encoded1 = BASE_CHARS.indexOf(serializedString[i]);\n        encoded2 = BASE_CHARS.indexOf(serializedString[i + 1]);\n        encoded3 = BASE_CHARS.indexOf(serializedString[i + 2]);\n        encoded4 = BASE_CHARS.indexOf(serializedString[i + 3]);\n\n        /*jslint bitwise: true */\n        bytes[p++] = encoded1 << 2 | encoded2 >> 4;\n        bytes[p++] = (encoded2 & 15) << 4 | encoded3 >> 2;\n        bytes[p++] = (encoded3 & 3) << 6 | encoded4 & 63;\n    }\n    return buffer;\n}\n\n// Converts a buffer to a string to store, serialized, in the backend\n// storage library.\nfunction bufferToString(buffer) {\n    // base64-arraybuffer\n    var bytes = new Uint8Array(buffer);\n    var base64String = '';\n    var i;\n\n    for (i = 0; i < bytes.length; i += 3) {\n        /*jslint bitwise: true */\n        base64String += BASE_CHARS[bytes[i] >> 2];\n        base64String += BASE_CHARS[(bytes[i] & 3) << 4 | bytes[i + 1] >> 4];\n        base64String += BASE_CHARS[(bytes[i + 1] & 15) << 2 | bytes[i + 2] >> 6];\n        base64String += BASE_CHARS[bytes[i + 2] & 63];\n    }\n\n    if (bytes.length % 3 === 2) {\n        base64String = base64String.substring(0, base64String.length - 1) + '=';\n    } else if (bytes.length % 3 === 1) {\n        base64String = base64String.substring(0, base64String.length - 2) + '==';\n    }\n\n    return base64String;\n}\n\n// Serialize a value, afterwards executing a callback (which usually\n// instructs the `setItem()` callback/promise to be executed). This is how\n// we store binary data with localStorage.\nfunction serialize(value, callback) {\n    var valueType = '';\n    if (value) {\n        valueType = toString$1.call(value);\n    }\n\n    // Cannot use `value instanceof ArrayBuffer` or such here, as these\n    // checks fail when running the tests using casper.js...\n    //\n    // TODO: See why those tests fail and use a better solution.\n    if (value && (valueType === '[object ArrayBuffer]' || value.buffer && toString$1.call(value.buffer) === '[object ArrayBuffer]')) {\n        // Convert binary arrays to a string and prefix the string with\n        // a special marker.\n        var buffer;\n        var marker = SERIALIZED_MARKER;\n\n        if (value instanceof ArrayBuffer) {\n            buffer = value;\n            marker += TYPE_ARRAYBUFFER;\n        } else {\n            buffer = value.buffer;\n\n            if (valueType === '[object Int8Array]') {\n                marker += TYPE_INT8ARRAY;\n            } else if (valueType === '[object Uint8Array]') {\n                marker += TYPE_UINT8ARRAY;\n            } else if (valueType === '[object Uint8ClampedArray]') {\n                marker += TYPE_UINT8CLAMPEDARRAY;\n            } else if (valueType === '[object Int16Array]') {\n                marker += TYPE_INT16ARRAY;\n            } else if (valueType === '[object Uint16Array]') {\n                marker += TYPE_UINT16ARRAY;\n            } else if (valueType === '[object Int32Array]') {\n                marker += TYPE_INT32ARRAY;\n            } else if (valueType === '[object Uint32Array]') {\n                marker += TYPE_UINT32ARRAY;\n            } else if (valueType === '[object Float32Array]') {\n                marker += TYPE_FLOAT32ARRAY;\n            } else if (valueType === '[object Float64Array]') {\n                marker += TYPE_FLOAT64ARRAY;\n            } else {\n                callback(new Error('Failed to get type for BinaryArray'));\n            }\n        }\n\n        callback(marker + bufferToString(buffer));\n    } else if (valueType === '[object Blob]') {\n        // Conver the blob to a binaryArray and then to a string.\n        var fileReader = new FileReader();\n\n        fileReader.onload = function () {\n            // Backwards-compatible prefix for the blob type.\n            var str = BLOB_TYPE_PREFIX + value.type + '~' + bufferToString(this.result);\n\n            callback(SERIALIZED_MARKER + TYPE_BLOB + str);\n        };\n\n        fileReader.readAsArrayBuffer(value);\n    } else {\n        try {\n            callback(JSON.stringify(value));\n        } catch (e) {\n            console.error(\"Couldn't convert value into a JSON string: \", value);\n\n            callback(null, e);\n        }\n    }\n}\n\n// Deserialize data we've inserted into a value column/field. We place\n// special markers into our strings to mark them as encoded; this isn't\n// as nice as a meta field, but it's the only sane thing we can do whilst\n// keeping localStorage support intact.\n//\n// Oftentimes this will just deserialize JSON content, but if we have a\n// special marker (SERIALIZED_MARKER, defined above), we will extract\n// some kind of arraybuffer/binary data/typed array out of the string.\nfunction deserialize(value) {\n    // If we haven't marked this string as being specially serialized (i.e.\n    // something other than serialized JSON), we can just return it and be\n    // done with it.\n    if (value.substring(0, SERIALIZED_MARKER_LENGTH) !== SERIALIZED_MARKER) {\n        return JSON.parse(value);\n    }\n\n    // The following code deals with deserializing some kind of Blob or\n    // TypedArray. First we separate out the type of data we're dealing\n    // with from the data itself.\n    var serializedString = value.substring(TYPE_SERIALIZED_MARKER_LENGTH);\n    var type = value.substring(SERIALIZED_MARKER_LENGTH, TYPE_SERIALIZED_MARKER_LENGTH);\n\n    var blobType;\n    // Backwards-compatible blob type serialization strategy.\n    // DBs created with older versions of localForage will simply not have the blob type.\n    if (type === TYPE_BLOB && BLOB_TYPE_PREFIX_REGEX.test(serializedString)) {\n        var matcher = serializedString.match(BLOB_TYPE_PREFIX_REGEX);\n        blobType = matcher[1];\n        serializedString = serializedString.substring(matcher[0].length);\n    }\n    var buffer = stringToBuffer(serializedString);\n\n    // Return the right type based on the code/type set during\n    // serialization.\n    switch (type) {\n        case TYPE_ARRAYBUFFER:\n            return buffer;\n        case TYPE_BLOB:\n            return createBlob([buffer], { type: blobType });\n        case TYPE_INT8ARRAY:\n            return new Int8Array(buffer);\n        case TYPE_UINT8ARRAY:\n            return new Uint8Array(buffer);\n        case TYPE_UINT8CLAMPEDARRAY:\n            return new Uint8ClampedArray(buffer);\n        case TYPE_INT16ARRAY:\n            return new Int16Array(buffer);\n        case TYPE_UINT16ARRAY:\n            return new Uint16Array(buffer);\n        case TYPE_INT32ARRAY:\n            return new Int32Array(buffer);\n        case TYPE_UINT32ARRAY:\n            return new Uint32Array(buffer);\n        case TYPE_FLOAT32ARRAY:\n            return new Float32Array(buffer);\n        case TYPE_FLOAT64ARRAY:\n            return new Float64Array(buffer);\n        default:\n            throw new Error('Unkown type: ' + type);\n    }\n}\n\nvar localforageSerializer = {\n    serialize: serialize,\n    deserialize: deserialize,\n    stringToBuffer: stringToBuffer,\n    bufferToString: bufferToString\n};\n\n/*\n * Includes code from:\n *\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n\nfunction createDbTable(t, dbInfo, callback, errorCallback) {\n    t.executeSql('CREATE TABLE IF NOT EXISTS ' + dbInfo.storeName + ' ' + '(id INTEGER PRIMARY KEY, key unique, value)', [], callback, errorCallback);\n}\n\n// Open the WebSQL database (automatically creates one if one didn't\n// previously exist), using any options set in the config.\nfunction _initStorage$1(options) {\n    var self = this;\n    var dbInfo = {\n        db: null\n    };\n\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] = typeof options[i] !== 'string' ? options[i].toString() : options[i];\n        }\n    }\n\n    var dbInfoPromise = new Promise$1(function (resolve, reject) {\n        // Open the database; the openDatabase API will automatically\n        // create it for us if it doesn't exist.\n        try {\n            dbInfo.db = openDatabase(dbInfo.name, String(dbInfo.version), dbInfo.description, dbInfo.size);\n        } catch (e) {\n            return reject(e);\n        }\n\n        // Create our key/value table if it doesn't exist.\n        dbInfo.db.transaction(function (t) {\n            createDbTable(t, dbInfo, function () {\n                self._dbInfo = dbInfo;\n                resolve();\n            }, function (t, error) {\n                reject(error);\n            });\n        }, reject);\n    });\n\n    dbInfo.serializer = localforageSerializer;\n    return dbInfoPromise;\n}\n\nfunction tryExecuteSql(t, dbInfo, sqlStatement, args, callback, errorCallback) {\n    t.executeSql(sqlStatement, args, callback, function (t, error) {\n        if (error.code === error.SYNTAX_ERR) {\n            t.executeSql('SELECT name FROM sqlite_master ' + \"WHERE type='table' AND name = ?\", [dbInfo.storeName], function (t, results) {\n                if (!results.rows.length) {\n                    // if the table is missing (was deleted)\n                    // re-create it table and retry\n                    createDbTable(t, dbInfo, function () {\n                        t.executeSql(sqlStatement, args, callback, errorCallback);\n                    }, errorCallback);\n                } else {\n                    errorCallback(t, error);\n                }\n            }, errorCallback);\n        } else {\n            errorCallback(t, error);\n        }\n    }, errorCallback);\n}\n\nfunction getItem$1(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT * FROM ' + dbInfo.storeName + ' WHERE key = ? LIMIT 1', [key], function (t, results) {\n                    var result = results.rows.length ? results.rows.item(0).value : null;\n\n                    // Check to see if this is serialized content we need to\n                    // unpack.\n                    if (result) {\n                        result = dbInfo.serializer.deserialize(result);\n                    }\n\n                    resolve(result);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction iterate$1(iterator, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT * FROM ' + dbInfo.storeName, [], function (t, results) {\n                    var rows = results.rows;\n                    var length = rows.length;\n\n                    for (var i = 0; i < length; i++) {\n                        var item = rows.item(i);\n                        var result = item.value;\n\n                        // Check to see if this is serialized content\n                        // we need to unpack.\n                        if (result) {\n                            result = dbInfo.serializer.deserialize(result);\n                        }\n\n                        result = iterator(result, item.key, i + 1);\n\n                        // void(0) prevents problems with redefinition\n                        // of `undefined`.\n                        if (result !== void 0) {\n                            resolve(result);\n                            return;\n                        }\n                    }\n\n                    resolve();\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction _setItem(key, value, callback, retriesLeft) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            // The localStorage API doesn't return undefined values in an\n            // \"expected\" way, so undefined is always cast to null in all\n            // drivers. See: https://github.com/mozilla/localForage/pull/42\n            if (value === undefined) {\n                value = null;\n            }\n\n            // Save the original value to pass to the callback.\n            var originalValue = value;\n\n            var dbInfo = self._dbInfo;\n            dbInfo.serializer.serialize(value, function (value, error) {\n                if (error) {\n                    reject(error);\n                } else {\n                    dbInfo.db.transaction(function (t) {\n                        tryExecuteSql(t, dbInfo, 'INSERT OR REPLACE INTO ' + dbInfo.storeName + ' ' + '(key, value) VALUES (?, ?)', [key, value], function () {\n                            resolve(originalValue);\n                        }, function (t, error) {\n                            reject(error);\n                        });\n                    }, function (sqlError) {\n                        // The transaction failed; check\n                        // to see if it's a quota error.\n                        if (sqlError.code === sqlError.QUOTA_ERR) {\n                            // We reject the callback outright for now, but\n                            // it's worth trying to re-run the transaction.\n                            // Even if the user accepts the prompt to use\n                            // more storage on Safari, this error will\n                            // be called.\n                            //\n                            // Try to re-run the transaction.\n                            if (retriesLeft > 0) {\n                                resolve(_setItem.apply(self, [key, originalValue, callback, retriesLeft - 1]));\n                                return;\n                            }\n                            reject(sqlError);\n                        }\n                    });\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction setItem$1(key, value, callback) {\n    return _setItem.apply(this, [key, value, callback, 1]);\n}\n\nfunction removeItem$1(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'DELETE FROM ' + dbInfo.storeName + ' WHERE key = ?', [key], function () {\n                    resolve();\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Deletes every item in the table.\n// TODO: Find out if this resets the AUTO_INCREMENT number.\nfunction clear$1(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'DELETE FROM ' + dbInfo.storeName, [], function () {\n                    resolve();\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Does a simple `COUNT(key)` to get the number of items stored in\n// localForage.\nfunction length$1(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                // Ahhh, SQL makes this one soooooo easy.\n                tryExecuteSql(t, dbInfo, 'SELECT COUNT(key) as c FROM ' + dbInfo.storeName, [], function (t, results) {\n                    var result = results.rows.item(0).c;\n                    resolve(result);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Return the key located at key index X; essentially gets the key from a\n// `WHERE id = ?`. This is the most efficient way I can think to implement\n// this rarely-used (in my experience) part of the API, but it can seem\n// inconsistent, because we do `INSERT OR REPLACE INTO` on `setItem()`, so\n// the ID of each key will change every time it's updated. Perhaps a stored\n// procedure for the `setItem()` SQL would solve this problem?\n// TODO: Don't change ID on `setItem()`.\nfunction key$1(n, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT key FROM ' + dbInfo.storeName + ' WHERE id = ? LIMIT 1', [n + 1], function (t, results) {\n                    var result = results.rows.length ? results.rows.item(0).key : null;\n                    resolve(result);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction keys$1(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT key FROM ' + dbInfo.storeName, [], function (t, results) {\n                    var keys = [];\n\n                    for (var i = 0; i < results.rows.length; i++) {\n                        keys.push(results.rows.item(i).key);\n                    }\n\n                    resolve(keys);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// https://www.w3.org/TR/webdatabase/#databases\n// > There is no way to enumerate or delete the databases available for an origin from this API.\nfunction getAllStoreNames(db) {\n    return new Promise$1(function (resolve, reject) {\n        db.transaction(function (t) {\n            t.executeSql('SELECT name FROM sqlite_master ' + \"WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'\", [], function (t, results) {\n                var storeNames = [];\n\n                for (var i = 0; i < results.rows.length; i++) {\n                    storeNames.push(results.rows.item(i).name);\n                }\n\n                resolve({\n                    db: db,\n                    storeNames: storeNames\n                });\n            }, function (t, error) {\n                reject(error);\n            });\n        }, function (sqlError) {\n            reject(sqlError);\n        });\n    });\n}\n\nfunction dropInstance$1(options, callback) {\n    callback = getCallback.apply(this, arguments);\n\n    var currentConfig = this.config();\n    options = typeof options !== 'function' && options || {};\n    if (!options.name) {\n        options.name = options.name || currentConfig.name;\n        options.storeName = options.storeName || currentConfig.storeName;\n    }\n\n    var self = this;\n    var promise;\n    if (!options.name) {\n        promise = Promise$1.reject('Invalid arguments');\n    } else {\n        promise = new Promise$1(function (resolve) {\n            var db;\n            if (options.name === currentConfig.name) {\n                // use the db reference of the current instance\n                db = self._dbInfo.db;\n            } else {\n                db = openDatabase(options.name, '', '', 0);\n            }\n\n            if (!options.storeName) {\n                // drop all database tables\n                resolve(getAllStoreNames(db));\n            } else {\n                resolve({\n                    db: db,\n                    storeNames: [options.storeName]\n                });\n            }\n        }).then(function (operationInfo) {\n            return new Promise$1(function (resolve, reject) {\n                operationInfo.db.transaction(function (t) {\n                    function dropTable(storeName) {\n                        return new Promise$1(function (resolve, reject) {\n                            t.executeSql('DROP TABLE IF EXISTS ' + storeName, [], function () {\n                                resolve();\n                            }, function (t, error) {\n                                reject(error);\n                            });\n                        });\n                    }\n\n                    var operations = [];\n                    for (var i = 0, len = operationInfo.storeNames.length; i < len; i++) {\n                        operations.push(dropTable(operationInfo.storeNames[i]));\n                    }\n\n                    Promise$1.all(operations).then(function () {\n                        resolve();\n                    })[\"catch\"](function (e) {\n                        reject(e);\n                    });\n                }, function (sqlError) {\n                    reject(sqlError);\n                });\n            });\n        });\n    }\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nvar webSQLStorage = {\n    _driver: 'webSQLStorage',\n    _initStorage: _initStorage$1,\n    _support: isWebSQLValid(),\n    iterate: iterate$1,\n    getItem: getItem$1,\n    setItem: setItem$1,\n    removeItem: removeItem$1,\n    clear: clear$1,\n    length: length$1,\n    key: key$1,\n    keys: keys$1,\n    dropInstance: dropInstance$1\n};\n\nfunction isLocalStorageValid() {\n    try {\n        return typeof localStorage !== 'undefined' && 'setItem' in localStorage &&\n        // in IE8 typeof localStorage.setItem === 'object'\n        !!localStorage.setItem;\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction _getKeyPrefix(options, defaultConfig) {\n    var keyPrefix = options.name + '/';\n\n    if (options.storeName !== defaultConfig.storeName) {\n        keyPrefix += options.storeName + '/';\n    }\n    return keyPrefix;\n}\n\n// Check if localStorage throws when saving an item\nfunction checkIfLocalStorageThrows() {\n    var localStorageTestKey = '_localforage_support_test';\n\n    try {\n        localStorage.setItem(localStorageTestKey, true);\n        localStorage.removeItem(localStorageTestKey);\n\n        return false;\n    } catch (e) {\n        return true;\n    }\n}\n\n// Check if localStorage is usable and allows to save an item\n// This method checks if localStorage is usable in Safari Private Browsing\n// mode, or in any other case where the available quota for localStorage\n// is 0 and there wasn't any saved items yet.\nfunction _isLocalStorageUsable() {\n    return !checkIfLocalStorageThrows() || localStorage.length > 0;\n}\n\n// Config the localStorage backend, using options set in the config.\nfunction _initStorage$2(options) {\n    var self = this;\n    var dbInfo = {};\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] = options[i];\n        }\n    }\n\n    dbInfo.keyPrefix = _getKeyPrefix(options, self._defaultConfig);\n\n    if (!_isLocalStorageUsable()) {\n        return Promise$1.reject();\n    }\n\n    self._dbInfo = dbInfo;\n    dbInfo.serializer = localforageSerializer;\n\n    return Promise$1.resolve();\n}\n\n// Remove all keys from the datastore, effectively destroying all data in\n// the app's key/value store!\nfunction clear$2(callback) {\n    var self = this;\n    var promise = self.ready().then(function () {\n        var keyPrefix = self._dbInfo.keyPrefix;\n\n        for (var i = localStorage.length - 1; i >= 0; i--) {\n            var key = localStorage.key(i);\n\n            if (key.indexOf(keyPrefix) === 0) {\n                localStorage.removeItem(key);\n            }\n        }\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Retrieve an item from the store. Unlike the original async_storage\n// library in Gaia, we don't modify return values at all. If a key's value\n// is `undefined`, we pass that value to the callback function.\nfunction getItem$2(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var result = localStorage.getItem(dbInfo.keyPrefix + key);\n\n        // If a result was found, parse it from the serialized\n        // string into a JS object. If result isn't truthy, the key\n        // is likely undefined and we'll pass it straight to the\n        // callback.\n        if (result) {\n            result = dbInfo.serializer.deserialize(result);\n        }\n\n        return result;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Iterate over all items in the store.\nfunction iterate$2(iterator, callback) {\n    var self = this;\n\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var keyPrefix = dbInfo.keyPrefix;\n        var keyPrefixLength = keyPrefix.length;\n        var length = localStorage.length;\n\n        // We use a dedicated iterator instead of the `i` variable below\n        // so other keys we fetch in localStorage aren't counted in\n        // the `iterationNumber` argument passed to the `iterate()`\n        // callback.\n        //\n        // See: github.com/mozilla/localForage/pull/435#discussion_r38061530\n        var iterationNumber = 1;\n\n        for (var i = 0; i < length; i++) {\n            var key = localStorage.key(i);\n            if (key.indexOf(keyPrefix) !== 0) {\n                continue;\n            }\n            var value = localStorage.getItem(key);\n\n            // If a result was found, parse it from the serialized\n            // string into a JS object. If result isn't truthy, the\n            // key is likely undefined and we'll pass it straight\n            // to the iterator.\n            if (value) {\n                value = dbInfo.serializer.deserialize(value);\n            }\n\n            value = iterator(value, key.substring(keyPrefixLength), iterationNumber++);\n\n            if (value !== void 0) {\n                return value;\n            }\n        }\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Same as localStorage's key() method, except takes a callback.\nfunction key$2(n, callback) {\n    var self = this;\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var result;\n        try {\n            result = localStorage.key(n);\n        } catch (error) {\n            result = null;\n        }\n\n        // Remove the prefix from the key, if a key is found.\n        if (result) {\n            result = result.substring(dbInfo.keyPrefix.length);\n        }\n\n        return result;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction keys$2(callback) {\n    var self = this;\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var length = localStorage.length;\n        var keys = [];\n\n        for (var i = 0; i < length; i++) {\n            var itemKey = localStorage.key(i);\n            if (itemKey.indexOf(dbInfo.keyPrefix) === 0) {\n                keys.push(itemKey.substring(dbInfo.keyPrefix.length));\n            }\n        }\n\n        return keys;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Supply the number of keys in the datastore to the callback function.\nfunction length$2(callback) {\n    var self = this;\n    var promise = self.keys().then(function (keys) {\n        return keys.length;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Remove an item from the store, nice and simple.\nfunction removeItem$2(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        localStorage.removeItem(dbInfo.keyPrefix + key);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Set a key's value and run an optional callback once the value is set.\n// Unlike Gaia's implementation, the callback function is passed the value,\n// in case you want to operate on that value only after you're sure it\n// saved, or something like that.\nfunction setItem$2(key, value, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = self.ready().then(function () {\n        // Convert undefined values to null.\n        // https://github.com/mozilla/localForage/pull/42\n        if (value === undefined) {\n            value = null;\n        }\n\n        // Save the original value to pass to the callback.\n        var originalValue = value;\n\n        return new Promise$1(function (resolve, reject) {\n            var dbInfo = self._dbInfo;\n            dbInfo.serializer.serialize(value, function (value, error) {\n                if (error) {\n                    reject(error);\n                } else {\n                    try {\n                        localStorage.setItem(dbInfo.keyPrefix + key, value);\n                        resolve(originalValue);\n                    } catch (e) {\n                        // localStorage capacity exceeded.\n                        // TODO: Make this a specific error/event.\n                        if (e.name === 'QuotaExceededError' || e.name === 'NS_ERROR_DOM_QUOTA_REACHED') {\n                            reject(e);\n                        }\n                        reject(e);\n                    }\n                }\n            });\n        });\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction dropInstance$2(options, callback) {\n    callback = getCallback.apply(this, arguments);\n\n    options = typeof options !== 'function' && options || {};\n    if (!options.name) {\n        var currentConfig = this.config();\n        options.name = options.name || currentConfig.name;\n        options.storeName = options.storeName || currentConfig.storeName;\n    }\n\n    var self = this;\n    var promise;\n    if (!options.name) {\n        promise = Promise$1.reject('Invalid arguments');\n    } else {\n        promise = new Promise$1(function (resolve) {\n            if (!options.storeName) {\n                resolve(options.name + '/');\n            } else {\n                resolve(_getKeyPrefix(options, self._defaultConfig));\n            }\n        }).then(function (keyPrefix) {\n            for (var i = localStorage.length - 1; i >= 0; i--) {\n                var key = localStorage.key(i);\n\n                if (key.indexOf(keyPrefix) === 0) {\n                    localStorage.removeItem(key);\n                }\n            }\n        });\n    }\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nvar localStorageWrapper = {\n    _driver: 'localStorageWrapper',\n    _initStorage: _initStorage$2,\n    _support: isLocalStorageValid(),\n    iterate: iterate$2,\n    getItem: getItem$2,\n    setItem: setItem$2,\n    removeItem: removeItem$2,\n    clear: clear$2,\n    length: length$2,\n    key: key$2,\n    keys: keys$2,\n    dropInstance: dropInstance$2\n};\n\nvar sameValue = function sameValue(x, y) {\n    return x === y || typeof x === 'number' && typeof y === 'number' && isNaN(x) && isNaN(y);\n};\n\nvar includes = function includes(array, searchElement) {\n    var len = array.length;\n    var i = 0;\n    while (i < len) {\n        if (sameValue(array[i], searchElement)) {\n            return true;\n        }\n        i++;\n    }\n\n    return false;\n};\n\nvar isArray = Array.isArray || function (arg) {\n    return Object.prototype.toString.call(arg) === '[object Array]';\n};\n\n// Drivers are stored here when `defineDriver()` is called.\n// They are shared across all instances of localForage.\nvar DefinedDrivers = {};\n\nvar DriverSupport = {};\n\nvar DefaultDrivers = {\n    INDEXEDDB: asyncStorage,\n    WEBSQL: webSQLStorage,\n    LOCALSTORAGE: localStorageWrapper\n};\n\nvar DefaultDriverOrder = [DefaultDrivers.INDEXEDDB._driver, DefaultDrivers.WEBSQL._driver, DefaultDrivers.LOCALSTORAGE._driver];\n\nvar OptionalDriverMethods = ['dropInstance'];\n\nvar LibraryMethods = ['clear', 'getItem', 'iterate', 'key', 'keys', 'length', 'removeItem', 'setItem'].concat(OptionalDriverMethods);\n\nvar DefaultConfig = {\n    description: '',\n    driver: DefaultDriverOrder.slice(),\n    name: 'localforage',\n    // Default DB size is _JUST UNDER_ 5MB, as it's the highest size\n    // we can use without a prompt.\n    size: 4980736,\n    storeName: 'keyvaluepairs',\n    version: 1.0\n};\n\nfunction callWhenReady(localForageInstance, libraryMethod) {\n    localForageInstance[libraryMethod] = function () {\n        var _args = arguments;\n        return localForageInstance.ready().then(function () {\n            return localForageInstance[libraryMethod].apply(localForageInstance, _args);\n        });\n    };\n}\n\nfunction extend() {\n    for (var i = 1; i < arguments.length; i++) {\n        var arg = arguments[i];\n\n        if (arg) {\n            for (var _key in arg) {\n                if (arg.hasOwnProperty(_key)) {\n                    if (isArray(arg[_key])) {\n                        arguments[0][_key] = arg[_key].slice();\n                    } else {\n                        arguments[0][_key] = arg[_key];\n                    }\n                }\n            }\n        }\n    }\n\n    return arguments[0];\n}\n\nvar LocalForage = function () {\n    function LocalForage(options) {\n        _classCallCheck(this, LocalForage);\n\n        for (var driverTypeKey in DefaultDrivers) {\n            if (DefaultDrivers.hasOwnProperty(driverTypeKey)) {\n                var driver = DefaultDrivers[driverTypeKey];\n                var driverName = driver._driver;\n                this[driverTypeKey] = driverName;\n\n                if (!DefinedDrivers[driverName]) {\n                    // we don't need to wait for the promise,\n                    // since the default drivers can be defined\n                    // in a blocking manner\n                    this.defineDriver(driver);\n                }\n            }\n        }\n\n        this._defaultConfig = extend({}, DefaultConfig);\n        this._config = extend({}, this._defaultConfig, options);\n        this._driverSet = null;\n        this._initDriver = null;\n        this._ready = false;\n        this._dbInfo = null;\n\n        this._wrapLibraryMethodsWithReady();\n        this.setDriver(this._config.driver)[\"catch\"](function () {});\n    }\n\n    // Set any config values for localForage; can be called anytime before\n    // the first API call (e.g. `getItem`, `setItem`).\n    // We loop through options so we don't overwrite existing config\n    // values.\n\n\n    LocalForage.prototype.config = function config(options) {\n        // If the options argument is an object, we use it to set values.\n        // Otherwise, we return either a specified config value or all\n        // config values.\n        if ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object') {\n            // If localforage is ready and fully initialized, we can't set\n            // any new configuration values. Instead, we return an error.\n            if (this._ready) {\n                return new Error(\"Can't call config() after localforage \" + 'has been used.');\n            }\n\n            for (var i in options) {\n                if (i === 'storeName') {\n                    options[i] = options[i].replace(/\\W/g, '_');\n                }\n\n                if (i === 'version' && typeof options[i] !== 'number') {\n                    return new Error('Database version must be a number.');\n                }\n\n                this._config[i] = options[i];\n            }\n\n            // after all config options are set and\n            // the driver option is used, try setting it\n            if ('driver' in options && options.driver) {\n                return this.setDriver(this._config.driver);\n            }\n\n            return true;\n        } else if (typeof options === 'string') {\n            return this._config[options];\n        } else {\n            return this._config;\n        }\n    };\n\n    // Used to define a custom driver, shared across all instances of\n    // localForage.\n\n\n    LocalForage.prototype.defineDriver = function defineDriver(driverObject, callback, errorCallback) {\n        var promise = new Promise$1(function (resolve, reject) {\n            try {\n                var driverName = driverObject._driver;\n                var complianceError = new Error('Custom driver not compliant; see ' + 'https://mozilla.github.io/localForage/#definedriver');\n\n                // A driver name should be defined and not overlap with the\n                // library-defined, default drivers.\n                if (!driverObject._driver) {\n                    reject(complianceError);\n                    return;\n                }\n\n                var driverMethods = LibraryMethods.concat('_initStorage');\n                for (var i = 0, len = driverMethods.length; i < len; i++) {\n                    var driverMethodName = driverMethods[i];\n\n                    // when the property is there,\n                    // it should be a method even when optional\n                    var isRequired = !includes(OptionalDriverMethods, driverMethodName);\n                    if ((isRequired || driverObject[driverMethodName]) && typeof driverObject[driverMethodName] !== 'function') {\n                        reject(complianceError);\n                        return;\n                    }\n                }\n\n                var configureMissingMethods = function configureMissingMethods() {\n                    var methodNotImplementedFactory = function methodNotImplementedFactory(methodName) {\n                        return function () {\n                            var error = new Error('Method ' + methodName + ' is not implemented by the current driver');\n                            var promise = Promise$1.reject(error);\n                            executeCallback(promise, arguments[arguments.length - 1]);\n                            return promise;\n                        };\n                    };\n\n                    for (var _i = 0, _len = OptionalDriverMethods.length; _i < _len; _i++) {\n                        var optionalDriverMethod = OptionalDriverMethods[_i];\n                        if (!driverObject[optionalDriverMethod]) {\n                            driverObject[optionalDriverMethod] = methodNotImplementedFactory(optionalDriverMethod);\n                        }\n                    }\n                };\n\n                configureMissingMethods();\n\n                var setDriverSupport = function setDriverSupport(support) {\n                    if (DefinedDrivers[driverName]) {\n                        console.info('Redefining LocalForage driver: ' + driverName);\n                    }\n                    DefinedDrivers[driverName] = driverObject;\n                    DriverSupport[driverName] = support;\n                    // don't use a then, so that we can define\n                    // drivers that have simple _support methods\n                    // in a blocking manner\n                    resolve();\n                };\n\n                if ('_support' in driverObject) {\n                    if (driverObject._support && typeof driverObject._support === 'function') {\n                        driverObject._support().then(setDriverSupport, reject);\n                    } else {\n                        setDriverSupport(!!driverObject._support);\n                    }\n                } else {\n                    setDriverSupport(true);\n                }\n            } catch (e) {\n                reject(e);\n            }\n        });\n\n        executeTwoCallbacks(promise, callback, errorCallback);\n        return promise;\n    };\n\n    LocalForage.prototype.driver = function driver() {\n        return this._driver || null;\n    };\n\n    LocalForage.prototype.getDriver = function getDriver(driverName, callback, errorCallback) {\n        var getDriverPromise = DefinedDrivers[driverName] ? Promise$1.resolve(DefinedDrivers[driverName]) : Promise$1.reject(new Error('Driver not found.'));\n\n        executeTwoCallbacks(getDriverPromise, callback, errorCallback);\n        return getDriverPromise;\n    };\n\n    LocalForage.prototype.getSerializer = function getSerializer(callback) {\n        var serializerPromise = Promise$1.resolve(localforageSerializer);\n        executeTwoCallbacks(serializerPromise, callback);\n        return serializerPromise;\n    };\n\n    LocalForage.prototype.ready = function ready(callback) {\n        var self = this;\n\n        var promise = self._driverSet.then(function () {\n            if (self._ready === null) {\n                self._ready = self._initDriver();\n            }\n\n            return self._ready;\n        });\n\n        executeTwoCallbacks(promise, callback, callback);\n        return promise;\n    };\n\n    LocalForage.prototype.setDriver = function setDriver(drivers, callback, errorCallback) {\n        var self = this;\n\n        if (!isArray(drivers)) {\n            drivers = [drivers];\n        }\n\n        var supportedDrivers = this._getSupportedDrivers(drivers);\n\n        function setDriverToConfig() {\n            self._config.driver = self.driver();\n        }\n\n        function extendSelfWithDriver(driver) {\n            self._extend(driver);\n            setDriverToConfig();\n\n            self._ready = self._initStorage(self._config);\n            return self._ready;\n        }\n\n        function initDriver(supportedDrivers) {\n            return function () {\n                var currentDriverIndex = 0;\n\n                function driverPromiseLoop() {\n                    while (currentDriverIndex < supportedDrivers.length) {\n                        var driverName = supportedDrivers[currentDriverIndex];\n                        currentDriverIndex++;\n\n                        self._dbInfo = null;\n                        self._ready = null;\n\n                        return self.getDriver(driverName).then(extendSelfWithDriver)[\"catch\"](driverPromiseLoop);\n                    }\n\n                    setDriverToConfig();\n                    var error = new Error('No available storage method found.');\n                    self._driverSet = Promise$1.reject(error);\n                    return self._driverSet;\n                }\n\n                return driverPromiseLoop();\n            };\n        }\n\n        // There might be a driver initialization in progress\n        // so wait for it to finish in order to avoid a possible\n        // race condition to set _dbInfo\n        var oldDriverSetDone = this._driverSet !== null ? this._driverSet[\"catch\"](function () {\n            return Promise$1.resolve();\n        }) : Promise$1.resolve();\n\n        this._driverSet = oldDriverSetDone.then(function () {\n            var driverName = supportedDrivers[0];\n            self._dbInfo = null;\n            self._ready = null;\n\n            return self.getDriver(driverName).then(function (driver) {\n                self._driver = driver._driver;\n                setDriverToConfig();\n                self._wrapLibraryMethodsWithReady();\n                self._initDriver = initDriver(supportedDrivers);\n            });\n        })[\"catch\"](function () {\n            setDriverToConfig();\n            var error = new Error('No available storage method found.');\n            self._driverSet = Promise$1.reject(error);\n            return self._driverSet;\n        });\n\n        executeTwoCallbacks(this._driverSet, callback, errorCallback);\n        return this._driverSet;\n    };\n\n    LocalForage.prototype.supports = function supports(driverName) {\n        return !!DriverSupport[driverName];\n    };\n\n    LocalForage.prototype._extend = function _extend(libraryMethodsAndProperties) {\n        extend(this, libraryMethodsAndProperties);\n    };\n\n    LocalForage.prototype._getSupportedDrivers = function _getSupportedDrivers(drivers) {\n        var supportedDrivers = [];\n        for (var i = 0, len = drivers.length; i < len; i++) {\n            var driverName = drivers[i];\n            if (this.supports(driverName)) {\n                supportedDrivers.push(driverName);\n            }\n        }\n        return supportedDrivers;\n    };\n\n    LocalForage.prototype._wrapLibraryMethodsWithReady = function _wrapLibraryMethodsWithReady() {\n        // Add a stub for each driver API method that delays the call to the\n        // corresponding driver method until localForage is ready. These stubs\n        // will be replaced by the driver methods as soon as the driver is\n        // loaded, so there is no performance impact.\n        for (var i = 0, len = LibraryMethods.length; i < len; i++) {\n            callWhenReady(this, LibraryMethods[i]);\n        }\n    };\n\n    LocalForage.prototype.createInstance = function createInstance(options) {\n        return new LocalForage(options);\n    };\n\n    return LocalForage;\n}();\n\n// The actual localForage object that we expose as a module or via a\n// global. It's extended by pulling in one of our other libraries.\n\n\nvar localforage_js = new LocalForage();\n\nmodule.exports = localforage_js;\n\n},{\"3\":3}]},{},[4])(4)\n});\n","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\n  autoMergeLevel1: \n    - merges 1 level of substate\n    - skips substate if already modified\n*/\nexport default function autoMergeLevel1(inboundState, originalState, reducedState, _ref) {\n  var debug = _ref.debug;\n\n  var newState = _objectSpread({}, reducedState); // only rehydrate if inboundState exists and is an object\n\n\n  if (inboundState && _typeof(inboundState) === 'object') {\n    Object.keys(inboundState).forEach(function (key) {\n      // ignore _persist data\n      if (key === '_persist') return; // if reducer modifies substate, skip auto rehydration\n\n      if (originalState[key] !== reducedState[key]) {\n        if (process.env.NODE_ENV !== 'production' && debug) console.log('redux-persist/stateReconciler: sub state for key `%s` modified, skipping.', key);\n        return;\n      } // otherwise hard set the new value\n\n\n      newState[key] = inboundState[key];\n    });\n  }\n\n  if (process.env.NODE_ENV !== 'production' && debug && inboundState && _typeof(inboundState) === 'object') console.log(\"redux-persist/stateReconciler: rehydrated keys '\".concat(Object.keys(inboundState).join(', '), \"'\"));\n  return newState;\n}","import { KEY_PREFIX } from './constants';\nexport default function getStoredState(config) {\n  var transforms = config.transforms || [];\n  var storageKey = \"\".concat(config.keyPrefix !== undefined ? config.keyPrefix : KEY_PREFIX).concat(config.key);\n  var storage = config.storage;\n  var debug = config.debug;\n  var deserialize;\n\n  if (config.deserialize === false) {\n    deserialize = function deserialize(x) {\n      return x;\n    };\n  } else if (typeof config.deserialize === 'function') {\n    deserialize = config.deserialize;\n  } else {\n    deserialize = defaultDeserialize;\n  }\n\n  return storage.getItem(storageKey).then(function (serialized) {\n    if (!serialized) return undefined;else {\n      try {\n        var state = {};\n        var rawState = deserialize(serialized);\n        Object.keys(rawState).forEach(function (key) {\n          state[key] = transforms.reduceRight(function (subState, transformer) {\n            return transformer.out(subState, key, rawState);\n          }, deserialize(rawState[key]));\n        });\n        return state;\n      } catch (err) {\n        if (process.env.NODE_ENV !== 'production' && debug) console.log(\"redux-persist/getStoredState: Error restoring data \".concat(serialized), err);\n        throw err;\n      }\n    }\n  });\n}\n\nfunction defaultDeserialize(serial) {\n  return JSON.parse(serial);\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { FLUSH, PAUSE, PERSIST, PURGE, REHYDRATE, DEFAULT_VERSION } from './constants';\nimport autoMergeLevel1 from './stateReconciler/autoMergeLevel1';\nimport createPersistoid from './createPersistoid';\nimport defaultGetStoredState from './getStoredState';\nimport purgeStoredState from './purgeStoredState';\nvar DEFAULT_TIMEOUT = 5000;\n/*\n  @TODO add validation / handling for:\n  - persisting a reducer which has nested _persist\n  - handling actions that fire before reydrate is called\n*/\n\nexport default function persistReducer(config, baseReducer) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!config) throw new Error('config is required for persistReducer');\n    if (!config.key) throw new Error('key is required in persistor config');\n    if (!config.storage) throw new Error(\"redux-persist: config.storage is required. Try using one of the provided storage engines `import storage from 'redux-persist/lib/storage'`\");\n  }\n\n  var version = config.version !== undefined ? config.version : DEFAULT_VERSION;\n  var debug = config.debug || false;\n  var stateReconciler = config.stateReconciler === undefined ? autoMergeLevel1 : config.stateReconciler;\n  var getStoredState = config.getStoredState || defaultGetStoredState;\n  var timeout = config.timeout !== undefined ? config.timeout : DEFAULT_TIMEOUT;\n  var _persistoid = null;\n  var _purge = false;\n  var _paused = true;\n\n  var conditionalUpdate = function conditionalUpdate(state) {\n    // update the persistoid only if we are rehydrated and not paused\n    state._persist.rehydrated && _persistoid && !_paused && _persistoid.update(state);\n    return state;\n  };\n\n  return function (state, action) {\n    var _ref = state || {},\n        _persist = _ref._persist,\n        rest = _objectWithoutProperties(_ref, [\"_persist\"]); // $FlowIgnore need to update State type\n\n\n    var restState = rest;\n\n    if (action.type === PERSIST) {\n      var _sealed = false;\n\n      var _rehydrate = function _rehydrate(payload, err) {\n        // dev warning if we are already sealed\n        if (process.env.NODE_ENV !== 'production' && _sealed) console.error(\"redux-persist: rehydrate for \\\"\".concat(config.key, \"\\\" called after timeout.\"), payload, err); // only rehydrate if we are not already sealed\n\n        if (!_sealed) {\n          action.rehydrate(config.key, payload, err);\n          _sealed = true;\n        }\n      };\n\n      timeout && setTimeout(function () {\n        !_sealed && _rehydrate(undefined, new Error(\"redux-persist: persist timed out for persist key \\\"\".concat(config.key, \"\\\"\")));\n      }, timeout); // @NOTE PERSIST resumes if paused.\n\n      _paused = false; // @NOTE only ever create persistoid once, ensure we call it at least once, even if _persist has already been set\n\n      if (!_persistoid) _persistoid = createPersistoid(config); // @NOTE PERSIST can be called multiple times, noop after the first\n\n      if (_persist) {\n        // We still need to call the base reducer because there might be nested\n        // uses of persistReducer which need to be aware of the PERSIST action\n        return _objectSpread({}, baseReducer(restState, action), {\n          _persist: _persist\n        });\n      }\n\n      if (typeof action.rehydrate !== 'function' || typeof action.register !== 'function') throw new Error('redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.');\n      action.register(config.key);\n      getStoredState(config).then(function (restoredState) {\n        var migrate = config.migrate || function (s, v) {\n          return Promise.resolve(s);\n        };\n\n        migrate(restoredState, version).then(function (migratedState) {\n          _rehydrate(migratedState);\n        }, function (migrateErr) {\n          if (process.env.NODE_ENV !== 'production' && migrateErr) console.error('redux-persist: migration error', migrateErr);\n\n          _rehydrate(undefined, migrateErr);\n        });\n      }, function (err) {\n        _rehydrate(undefined, err);\n      });\n      return _objectSpread({}, baseReducer(restState, action), {\n        _persist: {\n          version: version,\n          rehydrated: false\n        }\n      });\n    } else if (action.type === PURGE) {\n      _purge = true;\n      action.result(purgeStoredState(config));\n      return _objectSpread({}, baseReducer(restState, action), {\n        _persist: _persist\n      });\n    } else if (action.type === FLUSH) {\n      action.result(_persistoid && _persistoid.flush());\n      return _objectSpread({}, baseReducer(restState, action), {\n        _persist: _persist\n      });\n    } else if (action.type === PAUSE) {\n      _paused = true;\n    } else if (action.type === REHYDRATE) {\n      // noop on restState if purging\n      if (_purge) return _objectSpread({}, restState, {\n        _persist: _objectSpread({}, _persist, {\n          rehydrated: true\n        }) // @NOTE if key does not match, will continue to default else below\n\n      });\n\n      if (action.key === config.key) {\n        var reducedState = baseReducer(restState, action);\n        var inboundState = action.payload; // only reconcile state if stateReconciler and inboundState are both defined\n\n        var reconciledRest = stateReconciler !== false && inboundState !== undefined ? stateReconciler(inboundState, state, reducedState, config) : reducedState;\n\n        var _newState = _objectSpread({}, reconciledRest, {\n          _persist: _objectSpread({}, _persist, {\n            rehydrated: true\n          })\n        });\n\n        return conditionalUpdate(_newState);\n      }\n    } // if we have not already handled PERSIST, straight passthrough\n\n\n    if (!_persist) return baseReducer(state, action); // run base reducer:\n    // is state modified ? return original : return updated\n\n    var newState = baseReducer(restState, action);\n    if (newState === restState) return state;\n    return conditionalUpdate(_objectSpread({}, newState, {\n      _persist: _persist\n    }));\n  };\n}","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { createStore } from 'redux';\nimport { FLUSH, PAUSE, PERSIST, PURGE, REGISTER, REHYDRATE } from './constants';\nvar initialState = {\n  registry: [],\n  bootstrapped: false\n};\n\nvar persistorReducer = function persistorReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case REGISTER:\n      return _objectSpread({}, state, {\n        registry: [].concat(_toConsumableArray(state.registry), [action.key])\n      });\n\n    case REHYDRATE:\n      var firstIndex = state.registry.indexOf(action.key);\n\n      var registry = _toConsumableArray(state.registry);\n\n      registry.splice(firstIndex, 1);\n      return _objectSpread({}, state, {\n        registry: registry,\n        bootstrapped: registry.length === 0\n      });\n\n    default:\n      return state;\n  }\n};\n\nexport default function persistStore(store, options, cb) {\n  // help catch incorrect usage of passing PersistConfig in as PersistorOptions\n  if (process.env.NODE_ENV !== 'production') {\n    var optionsToTest = options || {};\n    var bannedKeys = ['blacklist', 'whitelist', 'transforms', 'storage', 'keyPrefix', 'migrate'];\n    bannedKeys.forEach(function (k) {\n      if (!!optionsToTest[k]) console.error(\"redux-persist: invalid option passed to persistStore: \\\"\".concat(k, \"\\\". You may be incorrectly passing persistConfig into persistStore, whereas it should be passed into persistReducer.\"));\n    });\n  }\n\n  var boostrappedCb = cb || false;\n\n  var _pStore = createStore(persistorReducer, initialState, options && options.enhancer ? options.enhancer : undefined);\n\n  var register = function register(key) {\n    _pStore.dispatch({\n      type: REGISTER,\n      key: key\n    });\n  };\n\n  var rehydrate = function rehydrate(key, payload, err) {\n    var rehydrateAction = {\n      type: REHYDRATE,\n      payload: payload,\n      err: err,\n      key: key // dispatch to `store` to rehydrate and `persistor` to track result\n\n    };\n    store.dispatch(rehydrateAction);\n\n    _pStore.dispatch(rehydrateAction);\n\n    if (boostrappedCb && persistor.getState().bootstrapped) {\n      boostrappedCb();\n      boostrappedCb = false;\n    }\n  };\n\n  var persistor = _objectSpread({}, _pStore, {\n    purge: function purge() {\n      var results = [];\n      store.dispatch({\n        type: PURGE,\n        result: function result(purgeResult) {\n          results.push(purgeResult);\n        }\n      });\n      return Promise.all(results);\n    },\n    flush: function flush() {\n      var results = [];\n      store.dispatch({\n        type: FLUSH,\n        result: function result(flushResult) {\n          results.push(flushResult);\n        }\n      });\n      return Promise.all(results);\n    },\n    pause: function pause() {\n      store.dispatch({\n        type: PAUSE\n      });\n    },\n    persist: function persist() {\n      store.dispatch({\n        type: PERSIST,\n        register: register,\n        rehydrate: rehydrate\n      });\n    }\n  });\n\n  if (!(options && options.manualPersist)) {\n    persistor.persist();\n  }\n\n  return persistor;\n}","export default {\n  disabled: false\n};","import React from 'react';\nexport default React.createContext(null);","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport config from './config';\nimport { timeoutsShape } from './utils/PropTypes';\nimport TransitionGroupContext from './TransitionGroupContext';\nexport var UNMOUNTED = 'unmounted';\nexport var EXITED = 'exited';\nexport var ENTERING = 'entering';\nexport var ENTERED = 'entered';\nexport var EXITING = 'exiting';\n/**\n * The Transition component lets you describe a transition from one component\n * state to another _over time_ with a simple declarative API. Most commonly\n * it's used to animate the mounting and unmounting of a component, but can also\n * be used to describe in-place transition states as well.\n *\n * ---\n *\n * **Note**: `Transition` is a platform-agnostic base component. If you're using\n * transitions in CSS, you'll probably want to use\n * [`CSSTransition`](https://reactcommunity.org/react-transition-group/css-transition)\n * instead. It inherits all the features of `Transition`, but contains\n * additional features necessary to play nice with CSS transitions (hence the\n * name of the component).\n *\n * ---\n *\n * By default the `Transition` component does not alter the behavior of the\n * component it renders, it only tracks \"enter\" and \"exit\" states for the\n * components. It's up to you to give meaning and effect to those states. For\n * example we can add styles to a component when it enters or exits:\n *\n * ```jsx\n * import { Transition } from 'react-transition-group';\n *\n * const duration = 300;\n *\n * const defaultStyle = {\n *   transition: `opacity ${duration}ms ease-in-out`,\n *   opacity: 0,\n * }\n *\n * const transitionStyles = {\n *   entering: { opacity: 1 },\n *   entered:  { opacity: 1 },\n *   exiting:  { opacity: 0 },\n *   exited:  { opacity: 0 },\n * };\n *\n * const Fade = ({ in: inProp }) => (\n *   <Transition in={inProp} timeout={duration}>\n *     {state => (\n *       <div style={{\n *         ...defaultStyle,\n *         ...transitionStyles[state]\n *       }}>\n *         I'm a fade Transition!\n *       </div>\n *     )}\n *   </Transition>\n * );\n * ```\n *\n * There are 4 main states a Transition can be in:\n *  - `'entering'`\n *  - `'entered'`\n *  - `'exiting'`\n *  - `'exited'`\n *\n * Transition state is toggled via the `in` prop. When `true` the component\n * begins the \"Enter\" stage. During this stage, the component will shift from\n * its current transition state, to `'entering'` for the duration of the\n * transition and then to the `'entered'` stage once it's complete. Let's take\n * the following example (we'll use the\n * [useState](https://reactjs.org/docs/hooks-reference.html#usestate) hook):\n *\n * ```jsx\n * function App() {\n *   const [inProp, setInProp] = useState(false);\n *   return (\n *     <div>\n *       <Transition in={inProp} timeout={500}>\n *         {state => (\n *           // ...\n *         )}\n *       </Transition>\n *       <button onClick={() => setInProp(true)}>\n *         Click to Enter\n *       </button>\n *     </div>\n *   );\n * }\n * ```\n *\n * When the button is clicked the component will shift to the `'entering'` state\n * and stay there for 500ms (the value of `timeout`) before it finally switches\n * to `'entered'`.\n *\n * When `in` is `false` the same thing happens except the state moves from\n * `'exiting'` to `'exited'`.\n */\n\nvar Transition =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(Transition, _React$Component);\n\n  function Transition(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n    var parentGroup = context; // In the context of a TransitionGroup all enters are really appears\n\n    var appear = parentGroup && !parentGroup.isMounting ? props.enter : props.appear;\n    var initialStatus;\n    _this.appearStatus = null;\n\n    if (props.in) {\n      if (appear) {\n        initialStatus = EXITED;\n        _this.appearStatus = ENTERING;\n      } else {\n        initialStatus = ENTERED;\n      }\n    } else {\n      if (props.unmountOnExit || props.mountOnEnter) {\n        initialStatus = UNMOUNTED;\n      } else {\n        initialStatus = EXITED;\n      }\n    }\n\n    _this.state = {\n      status: initialStatus\n    };\n    _this.nextCallback = null;\n    return _this;\n  }\n\n  Transition.getDerivedStateFromProps = function getDerivedStateFromProps(_ref, prevState) {\n    var nextIn = _ref.in;\n\n    if (nextIn && prevState.status === UNMOUNTED) {\n      return {\n        status: EXITED\n      };\n    }\n\n    return null;\n  }; // getSnapshotBeforeUpdate(prevProps) {\n  //   let nextStatus = null\n  //   if (prevProps !== this.props) {\n  //     const { status } = this.state\n  //     if (this.props.in) {\n  //       if (status !== ENTERING && status !== ENTERED) {\n  //         nextStatus = ENTERING\n  //       }\n  //     } else {\n  //       if (status === ENTERING || status === ENTERED) {\n  //         nextStatus = EXITING\n  //       }\n  //     }\n  //   }\n  //   return { nextStatus }\n  // }\n\n\n  var _proto = Transition.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.updateStatus(true, this.appearStatus);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var nextStatus = null;\n\n    if (prevProps !== this.props) {\n      var status = this.state.status;\n\n      if (this.props.in) {\n        if (status !== ENTERING && status !== ENTERED) {\n          nextStatus = ENTERING;\n        }\n      } else {\n        if (status === ENTERING || status === ENTERED) {\n          nextStatus = EXITING;\n        }\n      }\n    }\n\n    this.updateStatus(false, nextStatus);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.cancelNextCallback();\n  };\n\n  _proto.getTimeouts = function getTimeouts() {\n    var timeout = this.props.timeout;\n    var exit, enter, appear;\n    exit = enter = appear = timeout;\n\n    if (timeout != null && typeof timeout !== 'number') {\n      exit = timeout.exit;\n      enter = timeout.enter; // TODO: remove fallback for next major\n\n      appear = timeout.appear !== undefined ? timeout.appear : enter;\n    }\n\n    return {\n      exit: exit,\n      enter: enter,\n      appear: appear\n    };\n  };\n\n  _proto.updateStatus = function updateStatus(mounting, nextStatus) {\n    if (mounting === void 0) {\n      mounting = false;\n    }\n\n    if (nextStatus !== null) {\n      // nextStatus will always be ENTERING or EXITING.\n      this.cancelNextCallback();\n      var node = ReactDOM.findDOMNode(this);\n\n      if (nextStatus === ENTERING) {\n        this.performEnter(node, mounting);\n      } else {\n        this.performExit(node);\n      }\n    } else if (this.props.unmountOnExit && this.state.status === EXITED) {\n      this.setState({\n        status: UNMOUNTED\n      });\n    }\n  };\n\n  _proto.performEnter = function performEnter(node, mounting) {\n    var _this2 = this;\n\n    var enter = this.props.enter;\n    var appearing = this.context ? this.context.isMounting : mounting;\n    var timeouts = this.getTimeouts();\n    var enterTimeout = appearing ? timeouts.appear : timeouts.enter; // no enter animation skip right to ENTERED\n    // if we are mounting and running this it means appear _must_ be set\n\n    if (!mounting && !enter || config.disabled) {\n      this.safeSetState({\n        status: ENTERED\n      }, function () {\n        _this2.props.onEntered(node);\n      });\n      return;\n    }\n\n    this.props.onEnter(node, appearing);\n    this.safeSetState({\n      status: ENTERING\n    }, function () {\n      _this2.props.onEntering(node, appearing);\n\n      _this2.onTransitionEnd(node, enterTimeout, function () {\n        _this2.safeSetState({\n          status: ENTERED\n        }, function () {\n          _this2.props.onEntered(node, appearing);\n        });\n      });\n    });\n  };\n\n  _proto.performExit = function performExit(node) {\n    var _this3 = this;\n\n    var exit = this.props.exit;\n    var timeouts = this.getTimeouts(); // no exit animation skip right to EXITED\n\n    if (!exit || config.disabled) {\n      this.safeSetState({\n        status: EXITED\n      }, function () {\n        _this3.props.onExited(node);\n      });\n      return;\n    }\n\n    this.props.onExit(node);\n    this.safeSetState({\n      status: EXITING\n    }, function () {\n      _this3.props.onExiting(node);\n\n      _this3.onTransitionEnd(node, timeouts.exit, function () {\n        _this3.safeSetState({\n          status: EXITED\n        }, function () {\n          _this3.props.onExited(node);\n        });\n      });\n    });\n  };\n\n  _proto.cancelNextCallback = function cancelNextCallback() {\n    if (this.nextCallback !== null) {\n      this.nextCallback.cancel();\n      this.nextCallback = null;\n    }\n  };\n\n  _proto.safeSetState = function safeSetState(nextState, callback) {\n    // This shouldn't be necessary, but there are weird race conditions with\n    // setState callbacks and unmounting in testing, so always make sure that\n    // we can cancel any pending setState callbacks after we unmount.\n    callback = this.setNextCallback(callback);\n    this.setState(nextState, callback);\n  };\n\n  _proto.setNextCallback = function setNextCallback(callback) {\n    var _this4 = this;\n\n    var active = true;\n\n    this.nextCallback = function (event) {\n      if (active) {\n        active = false;\n        _this4.nextCallback = null;\n        callback(event);\n      }\n    };\n\n    this.nextCallback.cancel = function () {\n      active = false;\n    };\n\n    return this.nextCallback;\n  };\n\n  _proto.onTransitionEnd = function onTransitionEnd(node, timeout, handler) {\n    this.setNextCallback(handler);\n    var doesNotHaveTimeoutOrListener = timeout == null && !this.props.addEndListener;\n\n    if (!node || doesNotHaveTimeoutOrListener) {\n      setTimeout(this.nextCallback, 0);\n      return;\n    }\n\n    if (this.props.addEndListener) {\n      this.props.addEndListener(node, this.nextCallback);\n    }\n\n    if (timeout != null) {\n      setTimeout(this.nextCallback, timeout);\n    }\n  };\n\n  _proto.render = function render() {\n    var status = this.state.status;\n\n    if (status === UNMOUNTED) {\n      return null;\n    }\n\n    var _this$props = this.props,\n        children = _this$props.children,\n        childProps = _objectWithoutPropertiesLoose(_this$props, [\"children\"]); // filter props for Transtition\n\n\n    delete childProps.in;\n    delete childProps.mountOnEnter;\n    delete childProps.unmountOnExit;\n    delete childProps.appear;\n    delete childProps.enter;\n    delete childProps.exit;\n    delete childProps.timeout;\n    delete childProps.addEndListener;\n    delete childProps.onEnter;\n    delete childProps.onEntering;\n    delete childProps.onEntered;\n    delete childProps.onExit;\n    delete childProps.onExiting;\n    delete childProps.onExited;\n\n    if (typeof children === 'function') {\n      // allows for nested Transitions\n      return React.createElement(TransitionGroupContext.Provider, {\n        value: null\n      }, children(status, childProps));\n    }\n\n    var child = React.Children.only(children);\n    return (// allows for nested Transitions\n      React.createElement(TransitionGroupContext.Provider, {\n        value: null\n      }, React.cloneElement(child, childProps))\n    );\n  };\n\n  return Transition;\n}(React.Component);\n\nTransition.contextType = TransitionGroupContext;\nTransition.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /**\n   * A `function` child can be used instead of a React element. This function is\n   * called with the current transition status (`'entering'`, `'entered'`,\n   * `'exiting'`, `'exited'`), which can be used to apply context\n   * specific props to a component.\n   *\n   * ```jsx\n   * <Transition in={this.state.in} timeout={150}>\n   *   {state => (\n   *     <MyComponent className={`fade fade-${state}`} />\n   *   )}\n   * </Transition>\n   * ```\n   */\n  children: PropTypes.oneOfType([PropTypes.func.isRequired, PropTypes.element.isRequired]).isRequired,\n\n  /**\n   * Show the component; triggers the enter or exit states\n   */\n  in: PropTypes.bool,\n\n  /**\n   * By default the child component is mounted immediately along with\n   * the parent `Transition` component. If you want to \"lazy mount\" the component on the\n   * first `in={true}` you can set `mountOnEnter`. After the first enter transition the component will stay\n   * mounted, even on \"exited\", unless you also specify `unmountOnExit`.\n   */\n  mountOnEnter: PropTypes.bool,\n\n  /**\n   * By default the child component stays mounted after it reaches the `'exited'` state.\n   * Set `unmountOnExit` if you'd prefer to unmount the component after it finishes exiting.\n   */\n  unmountOnExit: PropTypes.bool,\n\n  /**\n   * Normally a component is not transitioned if it is shown when the\n   * `<Transition>` component mounts. If you want to transition on the first\n   * mount set `appear` to `true`, and the component will transition in as soon\n   * as the `<Transition>` mounts.\n   *\n   * > **Note**: there are no special appear states like `appearing`/`appeared`, this prop\n   * > only adds an additional enter transition. However, in the\n   * > `<CSSTransition>` component that first enter transition does result in\n   * > additional `.appear-*` classes, that way you can choose to style it\n   * > differently.\n   */\n  appear: PropTypes.bool,\n\n  /**\n   * Enable or disable enter transitions.\n   */\n  enter: PropTypes.bool,\n\n  /**\n   * Enable or disable exit transitions.\n   */\n  exit: PropTypes.bool,\n\n  /**\n   * The duration of the transition, in milliseconds.\n   * Required unless `addEndListener` is provided.\n   *\n   * You may specify a single timeout for all transitions:\n   *\n   * ```jsx\n   * timeout={500}\n   * ```\n   *\n   * or individually:\n   *\n   * ```jsx\n   * timeout={{\n   *  appear: 500,\n   *  enter: 300,\n   *  exit: 500,\n   * }}\n   * ```\n   *\n   * - `appear` defaults to the value of `enter`\n   * - `enter` defaults to `0`\n   * - `exit` defaults to `0`\n   *\n   * @type {number | { enter?: number, exit?: number, appear?: number }}\n   */\n  timeout: function timeout(props) {\n    var pt = timeoutsShape;\n    if (!props.addEndListener) pt = pt.isRequired;\n\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return pt.apply(void 0, [props].concat(args));\n  },\n\n  /**\n   * Add a custom transition end trigger. Called with the transitioning\n   * DOM node and a `done` callback. Allows for more fine grained transition end\n   * logic. **Note:** Timeouts are still used as a fallback if provided.\n   *\n   * ```jsx\n   * addEndListener={(node, done) => {\n   *   // use the css transitionend event to mark the finish of a transition\n   *   node.addEventListener('transitionend', done, false);\n   * }}\n   * ```\n   */\n  addEndListener: PropTypes.func,\n\n  /**\n   * Callback fired before the \"entering\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool) -> void\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * Callback fired after the \"entering\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * Callback fired after the \"entered\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool) -> void\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * Callback fired before the \"exiting\" status is applied.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * Callback fired after the \"exiting\" status is applied.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * Callback fired after the \"exited\" status is applied.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExited: PropTypes.func // Name the function so it is clearer in the documentation\n\n} : {};\n\nfunction noop() {}\n\nTransition.defaultProps = {\n  in: false,\n  mountOnEnter: false,\n  unmountOnExit: false,\n  appear: false,\n  enter: true,\n  exit: true,\n  onEnter: noop,\n  onEntering: noop,\n  onEntered: noop,\n  onExit: noop,\n  onExiting: noop,\n  onExited: noop\n};\nTransition.UNMOUNTED = 0;\nTransition.EXITED = 1;\nTransition.ENTERING = 2;\nTransition.ENTERED = 3;\nTransition.EXITING = 4;\nexport default Transition;","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","export var KEY_PREFIX = 'persist:';\nexport var FLUSH = 'persist/FLUSH';\nexport var REHYDRATE = 'persist/REHYDRATE';\nexport var PAUSE = 'persist/PAUSE';\nexport var PERSIST = 'persist/PERSIST';\nexport var PURGE = 'persist/PURGE';\nexport var REGISTER = 'persist/REGISTER';\nexport var DEFAULT_VERSION = -1;","import { KEY_PREFIX, REHYDRATE } from './constants';\n// @TODO remove once flow < 0.63 support is no longer required.\nexport default function createPersistoid(config) {\n  // defaults\n  var blacklist = config.blacklist || null;\n  var whitelist = config.whitelist || null;\n  var transforms = config.transforms || [];\n  var throttle = config.throttle || 0;\n  var storageKey = \"\".concat(config.keyPrefix !== undefined ? config.keyPrefix : KEY_PREFIX).concat(config.key);\n  var storage = config.storage;\n  var serialize;\n\n  if (config.serialize === false) {\n    serialize = function serialize(x) {\n      return x;\n    };\n  } else if (typeof config.serialize === 'function') {\n    serialize = config.serialize;\n  } else {\n    serialize = defaultSerialize;\n  }\n\n  var writeFailHandler = config.writeFailHandler || null; // initialize stateful values\n\n  var lastState = {};\n  var stagedState = {};\n  var keysToProcess = [];\n  var timeIterator = null;\n  var writePromise = null;\n\n  var update = function update(state) {\n    // add any changed keys to the queue\n    Object.keys(state).forEach(function (key) {\n      if (!passWhitelistBlacklist(key)) return; // is keyspace ignored? noop\n\n      if (lastState[key] === state[key]) return; // value unchanged? noop\n\n      if (keysToProcess.indexOf(key) !== -1) return; // is key already queued? noop\n\n      keysToProcess.push(key); // add key to queue\n    }); //if any key is missing in the new state which was present in the lastState,\n    //add it for processing too\n\n    Object.keys(lastState).forEach(function (key) {\n      if (state[key] === undefined && passWhitelistBlacklist(key) && keysToProcess.indexOf(key) === -1 && lastState[key] !== undefined) {\n        keysToProcess.push(key);\n      }\n    }); // start the time iterator if not running (read: throttle)\n\n    if (timeIterator === null) {\n      timeIterator = setInterval(processNextKey, throttle);\n    }\n\n    lastState = state;\n  };\n\n  function processNextKey() {\n    if (keysToProcess.length === 0) {\n      if (timeIterator) clearInterval(timeIterator);\n      timeIterator = null;\n      return;\n    }\n\n    var key = keysToProcess.shift();\n    var endState = transforms.reduce(function (subState, transformer) {\n      return transformer.in(subState, key, lastState);\n    }, lastState[key]);\n\n    if (endState !== undefined) {\n      try {\n        stagedState[key] = serialize(endState);\n      } catch (err) {\n        console.error('redux-persist/createPersistoid: error serializing state', err);\n      }\n    } else {\n      //if the endState is undefined, no need to persist the existing serialized content\n      delete stagedState[key];\n    }\n\n    if (keysToProcess.length === 0) {\n      writeStagedState();\n    }\n  }\n\n  function writeStagedState() {\n    // cleanup any removed keys just before write.\n    Object.keys(stagedState).forEach(function (key) {\n      if (lastState[key] === undefined) {\n        delete stagedState[key];\n      }\n    });\n    writePromise = storage.setItem(storageKey, serialize(stagedState)).catch(onWriteFail);\n  }\n\n  function passWhitelistBlacklist(key) {\n    if (whitelist && whitelist.indexOf(key) === -1 && key !== '_persist') return false;\n    if (blacklist && blacklist.indexOf(key) !== -1) return false;\n    return true;\n  }\n\n  function onWriteFail(err) {\n    // @TODO add fail handlers (typically storage full)\n    if (writeFailHandler) writeFailHandler(err);\n\n    if (err && process.env.NODE_ENV !== 'production') {\n      console.error('Error storing data', err);\n    }\n  }\n\n  var flush = function flush() {\n    while (keysToProcess.length !== 0) {\n      processNextKey();\n    }\n\n    return writePromise || Promise.resolve();\n  }; // return `persistoid`\n\n\n  return {\n    update: update,\n    flush: flush\n  };\n} // @NOTE in the future this may be exposed via config\n\nfunction defaultSerialize(data) {\n  return JSON.stringify(data);\n}","import { KEY_PREFIX } from './constants';\nexport default function purgeStoredState(config) {\n  var storage = config.storage;\n  var storageKey = \"\".concat(config.keyPrefix !== undefined ? config.keyPrefix : KEY_PREFIX).concat(config.key);\n  return storage.removeItem(storageKey, warnIfRemoveError);\n}\n\nfunction warnIfRemoveError(err) {\n  if (err && process.env.NODE_ENV !== 'production') {\n    console.error('redux-persist/purgeStoredState: Error purging data stored state', err);\n  }\n}"],"sourceRoot":""}