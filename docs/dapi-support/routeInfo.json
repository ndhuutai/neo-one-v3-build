{"template":"/Users/tainguyen/neo-one/packages/neo-one-website/src/pages/docs","sharedHashesByProp":{},"data":{"current":"/docs/dapi-support","title":"dAPI Support","content":{"type":"markdown","value":"\nNEO•ONE provides dAPI support through the familiar [User Accounts](/docs/user-accounts) interface.\n\n---\n\n[[toc]]\n\n---\n\n## What is the dAPI?\n\nThe dAPI is an interface for interacting with the NEO blockchain using an existing dAPI enabled wallet provider. This means that actions like transferring NEO, claiming GAS, and invoking smart contracts can be handled by a trusted wallet provider without the user every having to give a new dApp access to their private key. This allows developers to focus on the development of their dApp without having to worry about the complexities and security concerns of managing user accounts.\n\n## DapiUserAccountProvider\n\nNEO•ONE abstracts away the dAPI into a `DapiUserAccountProvider`, an implementation of the [UserAccountProvider](/reference/@neo-one/client/useraccountprovider) interface. While the [LocalUserAccountProvider](/reference/@neo-one/client/localuseraccountprovider) provides a [Client](/reference/@neo-one/client/client) access to [User Accounts](/docs/user-accounts) stored locally, the `DapiUserAccountProvider` provides access to [User Accounts](/docs/user-accounts) stored by a wallet provider and accessed through the dAPI.\n\nTo set up a `DapiUserAccountProvider`, simply import `neo-dapi` in your entry point and ensure it has been attached to the global object. We recommend using the [globalThis](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/globalThis) as it is compatible across environments. Once the `neo-dapi` has been attached to the global object, it can be passed from the global object into the constructor of a new `DapiUserAccountProvider`. With this setup, a dAPI enabled wallet running in the background will automatically be used to handle any `UserAccountProvider` methods. The `DapiUserAccountProvider` can then be used in place of a `LocalUserAccountProvider` when setting up a NEO•ONE `Client` as detailed in the [User Accounts](/docs/user-accounts) section.\n\nEntry point:\n\n```typescript\nimport neoDapi from 'neo-dapi';\n\n// Attach the neo-dapi to the global object at the entry point\nglobalThis.neoDapi = neoDapi;\n```\n\nElsewhere:\n\n```typescript\nimport { Client, DapiUserAccountProvider } from '@neo-one/client';\n\n...\n\nconst dapiUserAccountProvider = new DapiUserAccountProvider({\n  // Use the global object to pass the neo-dapi to a DapiUserAccountProvider\n  dapi: globalThis.neoDapi,\n  provider,\n  onError: (error) => {\n    throw error;\n  },\n});\n\n// Use the DapiUserAccountProvider to create a Client\nconst client = new Client({ dapi: dapiUserAccountProvider });\n```\n\n## Codegen\n\nIf you're using NEO•ONE to compile smart contracts and/or generate code with the `neo-one build` command, setting up the dAPI is even easier. Just make sure to attach the `neo-dapi` to the global object at your project's entry point and have a dAPI enabled wallet running in the background. The rest will be taken care of for you when you run `neo-one build`. The generated `Client` will automatically detect the `neo-dapi` attached to the global object and provide it access to a `DapiUserAccountProvider`. Note: This feature is only available with node version >= 12.\n\n## RemoteUserAccountProvider\n\nIf for some reason the dAPI does not suit the needs for your dApp, NEO•ONE also provides a general `RemoteUserAccountProvider`. This allows communication between a `RemoteUserAccountProvider` in a dApp and a [UserAccountProvider](/reference/@neo-one/client/useraccountprovider) in a wallet through a [Message Channel](https://developer.mozilla.org/en-US/docs/Web/API/MessageChannel) interface. To use as `RemoteUserAccountProvider`, a wallet provider must implement a [UserAccountProvider](/reference/@neo-one/client/useraccountprovider), such as a [LocalUserAccountProvider](/reference/@neo-one/client/localuseraccountprovider) and call `connectRemoteUserAccountProvider` with the [UserAccountProvider](/reference/@neo-one/client/useraccountprovider) and the [Message Port](https://developer.mozilla.org/en-US/docs/Web/API/MessagePort) to define the channel. On the dApp's side, all that is required is to create a new `RemoteUserAccountProvider` with the other [Message Port](https://developer.mozilla.org/en-US/docs/Web/API/MessagePort). Note this feature should only be used in cases where the dAPI is insufficient, as the dAPI is the official standard for the NEO blockchain. If you'd like to use a `RemoteUserAccountProvider`, please contact us so we can work with you to ensure it meets the needs of your dApp.\n"},"link":"packages/neo-one-website/docs/2-advanced-guides/08-dapi-support.md","sidebar":[{"title":"Installation","numbered":false,"subsections":[{"title":"Getting Started","slug":"/docs/getting-started"},{"title":"Environment Setup","slug":"/docs/environment-setup"},{"title":"CLI","slug":"/docs/cli"},{"title":"Playground","slug":"/docs/playground"}]},{"title":"Main Concepts","numbered":true,"subsections":[{"title":"Hello World","slug":"/docs/hello-world"},{"title":"Blockchain Basics","slug":"/docs/blockchain-basics"},{"title":"Smart Contract Basics","slug":"/docs/smart-contract-basics"},{"title":"Standard Library","slug":"/docs/standard-library"},{"title":"Properties and Storage","slug":"/docs/properties-and-storage"},{"title":"Methods","slug":"/docs/methods"},{"title":"Events and Logs","slug":"/docs/events-and-logs"},{"title":"Calling Smart Contracts","slug":"/docs/calling-smart-contracts"},{"title":"Client APIs","slug":"/docs/client-apis"},{"title":"Smart Contract APIs","slug":"/docs/smart-contract-apis"},{"title":"Testing","slug":"/docs/testing"},{"title":"Decentralized Apps","slug":"/docs/dapps"},{"title":"Deployment","slug":"/docs/deployment"}]},{"title":"Advanced Guides","numbered":false,"subsections":[{"title":"Native Assets","slug":"/docs/native-assets"},{"title":"Forward Values","slug":"/docs/forward-values"},{"title":"User Accounts","slug":"/docs/user-accounts"},{"title":"Extended Client APIs","slug":"/docs/extended-client-apis"},{"title":"Raw Client APIs","slug":"/docs/Raw-client-apis"},{"title":"React","slug":"/docs/react"},{"title":"Angular","slug":"/docs/angular"},{"title":"Vue","slug":"/docs/vue"},{"title":"dAPI Support","slug":"/docs/dapi-support"},{"title":"Configuration Options","slug":"/docs/config-options"}]},{"title":"Node","numbered":false,"subsections":[{"title":"Local Docker Development","slug":"/docs/node-docker"},{"title":"Kubernetes","slug":"/docs/node-kubernetes"},{"title":"Docker Compose","slug":"/docs/node-compose"},{"title":"Building From Source","slug":"/docs/node-source"},{"title":"Heroku Deployment","slug":"/docs/node-heroku"},{"title":"Configuration Reference","slug":"/docs/node-configuration"}]},{"title":"Contributing","numbered":false,"subsections":[{"title":"How to Contribute","slug":"/docs/how-to-contribute"},{"title":"Codebase Overview","slug":"/docs/codebase-overview"},{"title":"Smart Contract Compiler","slug":"/docs/smart-contract-compiler"},{"title":"Code of Conduct","slug":"/docs/code-of-conduct"}]}],"next":{"slug":"/docs/config-options","title":"Configuration Options"},"previous":{"slug":"/docs/vue","title":"Vue"}},"path":"docs/dapi-support"}
